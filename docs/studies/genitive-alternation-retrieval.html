<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.237">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Methods in Corpus Linguistics - Genitive Alternation I: Retrieval</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script src="../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="../styles.css">
</head>
<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Methods in Corpus Linguistics</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-studies" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Studies</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-studies">
<li>
    <a class="dropdown-item" href="../studies/base.html">
 <span class="dropdown-text">Keywords and collocation analysis on the BASE corpus</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../studies/genitive-alternation-retrieval.html">
 <span class="dropdown-text">Genitive Alternation I: Retrieval</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../studies/genitive-alternation-analysis.html">
 <span class="dropdown-text">Genitive Alternation II: Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../studies/ca-trump-clinton.html">
 <span class="dropdown-text">CA applied to the Trump-Clinton speeches</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../studies/register-analysis.html">
 <span class="dropdown-text">Simple register analysis (multidimensional analysis) of brown TEI</span></a>
  </li>  
    </ul>
</li>
  <li class="nav-item">
    <a class="nav-link" href="../slides/index.html">
 <span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../git/cheatsheet.html">
 <span class="menu-text">Git cheatsheet</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-assignments" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Assignments</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-assignments">
<li>
    <a class="dropdown-item" href="../git/assignment.html">
 <span class="dropdown-text">Corpus description</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../quarto/crossref.html">
 <span class="dropdown-text">Cross-references</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tidyverse/tibbles.html">
 <span class="dropdown-text">Tibble manipulation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../tidyverse/ggplot.html">
 <span class="dropdown-text">The Grammar of Graphics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../quarto/markdown.html">
 <span class="dropdown-text">Markdown and inline code</span></a>
  </li>  
    </ul>
</li>
</ul>
<div class="quarto-toggle-container">
                  <a href="" class="quarto-reader-toggle nav-link" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li>
<a href="#setup" id="toc-setup" class="nav-link active" data-scroll-target="#setup">Setup</a>
  <ul class="collapse">
<li><a href="#pos-tags" id="toc-pos-tags" class="nav-link" data-scroll-target="#pos-tags">POS tags</a></li>
  </ul>
</li>
  <li>
<a href="#data-retrieval" id="toc-data-retrieval" class="nav-link" data-scroll-target="#data-retrieval">Data retrieval</a>
  <ul class="collapse">
<li>
<a href="#sec-query1" id="toc-sec-query1" class="nav-link" data-scroll-target="#sec-query1">Of-genitive with common nouns</a>
  <ul class="collapse">
<li><a href="#regular-expression" id="toc-regular-expression" class="nav-link" data-scroll-target="#regular-expression">Regular expression</a></li>
  <li><a href="#code" id="toc-code" class="nav-link" data-scroll-target="#code">Code</a></li>
  </ul>
</li>
  <li>
<a href="#sec-query2" id="toc-sec-query2" class="nav-link" data-scroll-target="#sec-query2">Of-genitive with proper nouns</a>
  <ul class="collapse">
<li><a href="#regular-expression-1" id="toc-regular-expression-1" class="nav-link" data-scroll-target="#regular-expression-1">Regular expression</a></li>
  <li><a href="#code-1" id="toc-code-1" class="nav-link" data-scroll-target="#code-1">Code</a></li>
  </ul>
</li>
  <li>
<a href="#sec-query3" id="toc-sec-query3" class="nav-link" data-scroll-target="#sec-query3">S-genitive with common nouns</a>
  <ul class="collapse">
<li><a href="#regular-expression-2" id="toc-regular-expression-2" class="nav-link" data-scroll-target="#regular-expression-2">Regular expression</a></li>
  <li><a href="#code-2" id="toc-code-2" class="nav-link" data-scroll-target="#code-2">Code</a></li>
  </ul>
</li>
  <li>
<a href="#sec-query4" id="toc-sec-query4" class="nav-link" data-scroll-target="#sec-query4">S-genitive with proper nouns</a>
  <ul class="collapse">
<li><a href="#regular-expression-3" id="toc-regular-expression-3" class="nav-link" data-scroll-target="#regular-expression-3">Regular expression</a></li>
  <li><a href="#code-3" id="toc-code-3" class="nav-link" data-scroll-target="#code-3">Code</a></li>
  </ul>
</li>
  </ul>
</li>
  <li>
<a href="#automatic-annotation" id="toc-automatic-annotation" class="nav-link" data-scroll-target="#automatic-annotation">Automatic annotation</a>
  <ul class="collapse">
<li><a href="#citing-examples-in-markdown" id="toc-citing-examples-in-markdown" class="nav-link" data-scroll-target="#citing-examples-in-markdown">Citing examples in markdown</a></li>
  <li><a href="#save" id="toc-save" class="nav-link" data-scroll-target="#save">Save your progress and be free!</a></li>
  </ul>
</li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">Genitive Alternation I: Retrieval</h1>
<p class="subtitle lead">Based on Dirk Speelman’s course material</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p>This is the first part of a variation study focusing on the genitive alternation in English, using the Brown corpus. This part focuses on retrieving observations of the alternation, whereas <a href="../studies/genitive-alternation-analysis.html">the second part</a> will illustrate the analysis with conditional inference trees and mixed-effects logistic regression. One of the reasons to split the analysis in two is that, more often than not, between retrieval and analysis there is an additional step of manual cleaning or annotation of the dataset.</p>
<section id="setup" class="level1 page-columns page-full"><h1>Setup</h1>
<p>For this study we need to activate the packages <a href="https://tidyverse.tidyverse.org">tidyverse</a> and <a href="https://github.com/masterclm/mclm">mclm</a>. We will also use <a href="http://haozhu233.github.io/kableExtra/">kableExtra</a> to print some tables.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/masterclm/mclm">mclm</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/">kableExtra</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="page-columns page-full"><p>We’ll collect the files from the Brown corpus. To replicate this code, adjust the path to wherever you stored your copy of the corpus. In this case, we also add a <code><a href="https://masterclm.github.io/mclm/reference/keep_re.html">keep_re()</a></code> call to capture the pattern shared by all corpus files and not by metadata files such as “CONTENTS” and “README”. The <code>hide_path</code> argument hides a part of the filename when printing, to ease reading the table.</p><div class="no-row-height column-margin column-container"><span class="">For more information on the Brown corpus, such as the components and tagset, see the Wikipedia documentation: https://en.wikipedia.org/wiki/Brown_Corpus.</span></div></div>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">corpus_folder</span> <span class="op">&lt;-</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"studies"</span>, <span class="st">"_corpora"</span>, <span class="st">"brown"</span><span class="op">)</span> <span class="co"># adjust to your path</span></span>
<span><span class="va">brown_fnames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/fnames.html">get_fnames</a></span><span class="op">(</span><span class="va">corpus_folder</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://masterclm.github.io/mclm/reference/keep_re.html">keep_re</a></span><span class="op">(</span><span class="st">"/c[a-z][0-9]{2}"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">brown_fnames</span>, n <span class="op">=</span> <span class="fl">10</span>, hide_path <span class="op">=</span> <span class="va">corpus_folder</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Filename collection of length 500
   filename
   --------
 1     ca01
 2     ca02
 3     ca03
 4     ca04
 5     ca05
 6     ca06
 7     ca07
 8     ca08
 9     ca09
10     ca10
...</code></pre>
</div>
</div>
<section id="pos-tags" class="level2"><h2 class="anchored" data-anchor-id="pos-tags">POS tags</h2>
<p>The text in this corpus looks as follows, with word forms followed by a part-of-speech tag, with a slash in between:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>The/at Fulton/np-tl County/nn-tl Grand/jj-tl Jury/nn-tl said/vbd Friday/nr an/at
investigation/nn of/in Atlanta's/np$ recent/jj primary/nn election/nn produced/
vbd ``/`` no/at evidence/nn ''/'' that/cs any/dti irregularities/nns took/vbd
place/nn ./.</code></pre>
</div>
</div>
<p>Some of the POS tags of Brown are of particular importance for this case study.</p>
<table class="table">
<caption>Useful POS-tags of the Brown corpus for the genitive alternation study.</caption>
<colgroup>
<col style="width: 22%">
<col style="width: 30%">
<col style="width: 47%">
</colgroup>
<thead><tr class="header">
<th>POS tag</th>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>at</td>
<td>article</td>
<td>the/<strong>at</strong>
</td>
</tr>
<tr class="even">
<td>in</td>
<td>preposition</td>
<td>of/<strong>in</strong>
</td>
</tr>
<tr class="odd">
<td>jj</td>
<td>adjective</td>
<td>recent/<strong>jj</strong>
</td>
</tr>
<tr class="even">
<td>nn</td>
<td>common noun</td>
<td>place/<strong>nn</strong>
</td>
</tr>
<tr class="odd">
<td>np</td>
<td>proper noun</td>
<td>Atlanta/<strong>np</strong>
</td>
</tr>
<tr class="even">
<td>-tl (suffix to a POS tag)</td>
<td>title or part of title</td>
<td>Fulton/np<strong>-tl</strong> County/nn<strong>-tl</strong> Grand/jj<strong>-tl</strong> Jury/nn<strong>-tl</strong>
</td>
</tr>
<tr class="odd">
<td>$ (suffix to a POS tag)</td>
<td>genitive marker<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>
</td>
<td>Atlanta’s/np<strong>$</strong> recent/jj primary/nn</td>
</tr>
</tbody>
</table></section></section><section id="data-retrieval" class="level1 page-columns page-full"><h1>Data retrieval</h1>
<p>Our goal is to obtain the attestations of the genitive alternation in the Brown corpus, e.g.&nbsp;examples of “the student’s idea” and “the idea of the student”. In this alternation, the main elements we are interested in are called “Possessor” and “Possessed”, because the prototypical situation of the genitive is that of possession. However, the terminology can be misleading, because this is not the only meaning of the genitive constructions. For example, in <em>The car’s owner</em>, <em>car</em> takes the role of Possessor and <em>owner</em> that of Possessed.</p>
<p>An alternation study aims to describe the aspects of language use that favor or disfavor one variant of the alternation against the other. This translates to studies where the alternation itself, e.g.&nbsp;the choice between an <em>s</em> form or an <em>of</em> form, becomes the response variable or <strong>outcome</strong>, and different characteristics of the context become <strong>predictors</strong> or regressors. In this study, we’ll capture the following language-internal predictors:</p>
<dl>
<dt><code>possessor_type</code></dt>
<dd>
<p>Whether the role of the Possessor is filled by a common noun or a proper noun.</p>
</dd>
<dt><code>possessor_size</code></dt>
<dd>
<p>The size of the Possessor slot, in characters.</p>
</dd>
<dt><code>possessed_size</code></dt>
<dd>
<p>The size of the Possessed slot, in characters.</p>
</dd>
<dt><code>size_difference</code></dt>
<dd>
<p>The difference between the size of the possessor and that of the possessed.</p>
</dd>
</dl>
<p>The reason for taking the size of the constituents, i.e.&nbsp;Possessor and Possessed, is the theory within linguistics that speakers try to push longer constituents towards the end. In the genitive alternation, in which each variant has a different word order, this becomes relevant. Concretely, in the <em>s</em> variant we have the Possessor before the Possessed (“The student’s idea”), whereas in the <em>of</em> variant we have the Possessed before the Possessor (“The idea of the student”). If we indeed tend to push longer constituents towards the end, a long Possessor such as “the keen and insightful student” would favor the <em>of variant</em> (“The idea of the keen and insightful student”) rather than the <em>s</em> variant (“The keen and insightful student’s idea”).</p>
<p>In practice, we will also transform the sizes to their logarithm, in order to lessen the impact of extremely long constituents.</p>
<p>The strategy of data retrieval consists of four queries with non-overlapping results, aimed at collecting four different patterns, combinations of the outcome <code>gen_type</code> and the <code>possessor_type</code>.</p>
<table class="table">
<caption>Queries as combinations of outcome (the rows) and type of Possessor (columns).</caption>
<thead><tr class="header">
<th><span class="math inline">\({}\)</span></th>
<th>common nouns</th>
<th>proper nouns</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>of-genitive</td>
<td><a href="#sec-query1">query 1</a></td>
<td><a href="#sec-query2">query 2</a></td>
</tr>
<tr class="even">
<td>s-genitive</td>
<td><a href="#sec-query3">query 3</a></td>
<td><a href="#sec-query4">query 4</a></td>
</tr>
</tbody>
</table>
<p>For each of these queries, we will:</p>
<ol type="1">
<li>Collect the observations with <code><a href="https://masterclm.github.io/mclm/reference/conc.html">mclm::conc()</a></code>, generating a concordance.</li>
<li>Add columns with the values of <code>gen_type</code> (our outcome) and <code>possessor_type</code>, since they are the same for all observations in that query.</li>
<li>Extract the <code>possessed</code> and <code>possessor</code> based on their position in the query. For that purpose, the regular expressions used to query the corpus include capturing groups surrounding each of the constituents.</li>
</ol>
<p>This will be achieved with the following lines of code:</p>
<div class="cell">
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd</span> <span class="op">&lt;-</span> <span class="va">brown_fnames</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://masterclm.github.io/mclm/reference/conc.html">conc</a></span><span class="op">(</span><span class="va">pattern</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  <span class="co"># whatever regex pattern we have defined</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    gen_type <span class="op">=</span> <span class="st">"of"</span>,                                     <span class="co"># or "s"</span></span>
<span>    possessor_type <span class="op">=</span> <span class="st">"common"</span>,                           <span class="co"># or "proper"</span></span>
<span>    possessed <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\1"</span><span class="op">)</span>, <span class="co"># or "\\2" for s-genitive</span></span>
<span>    possessor <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\2"</span><span class="op">)</span>  <span class="co"># or "\\1" for of-genitive</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Once we have more than one concordance, we can merge them with <code><a href="https://masterclm.github.io/mclm/reference/merge_conc.html">merge_conc()</a></code>.</li>
</ol>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Variable names
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The first concordance will be stored in a variable called <code>cd</code>, to which we will merge each new concordance, called <code>cd_new</code>. Alternatively, you could name each concordance differently and then merge them into a larger concordance <code>conc_merged</code>, for example.</p>
<p>The first approach has the advantage of avoiding duplicate objects and using more memory than necessary. <code>cd_new</code> is constantly rewritten and, at the end, you only have one large concordance <code>cd</code> and a small <code>cd_new</code> concordance with the latest query. In contrast, with the second approach you end up with four small concordances and one large one, and their contents are duplicated.</p>
<p>The second approach makes sense if you need to keep the datasets separate. When you’re writing a long script or processing a dataset in different ways, overwriting a variable may bring confusion, as you forget the contents of the variable at any given time.</p>
<p>Think about this in your own analyses.</p>
</div>
</div>
</div>
<section id="sec-query1" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="sec-query1">Of-genitive with common nouns</h2>
<p>In the first query we will retrieve the attestations of the <em>of</em>-genitive with common nouns, e.g.&nbsp;“the idea of the student”.</p>
<section id="regular-expression" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="regular-expression">Regular expression</h3>

<div class="no-row-height column-margin column-container"><div class="">
<p>If you would like to practice regular expressions, the {mclmtutorials} package includes a tutorial on how to use them in {mclm}. Just install the package along with {learnr} and {gradethis} and run the tutorial:</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># install.packages("learnr")</span></span>
<span><span class="co"># remotes::install_github("masterclm/mclmtutorials")</span></span>
<span><span class="co"># remotes::install_github("rstudio/gradethis")</span></span>
<span><span class="fu">learnr</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/learnr/reference/run_tutorial.html">run_tutorial</a></span><span class="op">(</span><span class="st">"regex"</span>, <span class="st">"mclmtutorials"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div></div><p>As a first step, we construct a regular expression that will match, in the non-tokenized corpus, the sequence we are interested in, and we’ll store it in a variable <code>pattern</code>. Notice that we use a raw string (preceded with <code>r</code> and, within the quotation marks, surrounded by two hyphens and a square bracket) and that we flag the regular expression with an <code>x</code> and an <code>i</code>. The <code>x</code> allows us to insert spaces and line breaks for more readability (free-spacing mode), and the <code>i</code> makes the search case insensitive.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>pattern <span class="ot">&lt;-</span> r<span class="st">"--[(?xi)</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="st">          </span><span class="sc">\b</span><span class="st">         the / at          \s+</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">          ( (?:  [^\s/]+ / jj  [^\s]*  \s+ )*</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="st">            (?:  [^\s/]+ / nn  [^\s]*  \s+ )*</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="st">                 [^\s/]+ / nn  [^\s]*</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="st">          )                            \s+</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="st">                      of / in          \s+</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="st">                     the / at          \s+</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="st">          ( (?:  [^\s/]+ / jj  [^\s]*  \s+ )*</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="st">            (?:  [^\s/]+ / nn  [^\s]*  \s+ )*</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="st">                 [^\s/]+ / nn  [^\s$]* </span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="st">          )                            \s    </span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="st">]--"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>With this pattern, we are asking for:</p>
<ul>
<li><p>a word boundary,</p></li>
<li><p>followed by <em>the/at</em> and whitespace,</p></li>
<li><p>optionally followed by adjectives, each followed by whitespace, and then at least one common noun — this is the first capturing group, the Possessed,</p></li>
<li><p>then whitespace, followed by <em>of/in</em>, whitespace, <em>the/at</em> and whitespace,</p></li>
<li><p>optionally followed by adjectives, each followed by whitespace, and then at least one common noun without the genitive tag — this is the second capturing group, the Possessor.</p></li>
</ul>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Explanation of the regular expression
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In line 2 we have a <code>\b</code>, followed by the string <em>the/at</em>, followed by <code>\s+</code>. This means that we want the literal string <em>the/at</em> preceded by a word boundary and followed by one or more whitespace characters. A word boundary at the beginning covers whitespace characters, punctuation marks and even the beginning of the text.</p>
<p>Lines 3-5 and 9-11 are surrounded by parentheses, turning them into capturing groups. Later, when we want to extract the Possessed and Possessor from the match, we can ask for the text matching each of the capturing groups.</p>
<p>Within the capturing groups we have non-capturing groups, marked by parentheses and <code>?:</code> at the beginning. If we didn’t add <code>?:</code> at the beginning, they would be included in the numbering of the capturing groups and we wouldn’t know for sure which number belongs to the full Possessed and Possessor groups. But we need the parentheses in order to apply the final asterisks (in lines 3, 4, 9 and 10) to the full match that they surround. But what are they matching, exactly?</p>
<p>The main capturing groups for Possessed and Possessor want to match a common noun optionally preceded by one or more adjectives and one or more nouns. The match for a common noun is <code>[^\s/]+ / nn [^\s]*</code>. <code>[\s/]</code> matches either a whitespace character or a slash; adding the <code>^</code> inverts the match to anything <em>but</em> a whitespace character or a slash; <code>+</code> requires one or more of them and <code>*</code>, zero or more. Therefore, this regex asks for a sequence of characters that are neither a whitespace character or a slash, (e.g.&nbsp;<em>idea</em> or <em>student</em>), followed by a slash and then <em>nn</em>, followed by an optional sequence of characters that are not whitespace characters, in case the part-of-speech tag ends with an <code>s</code> (for plurar) or <code>-tl</code>. We use <code>jj</code> instead of <code>nn</code> when we ask for adjectives and we also reject <code>$</code> at the end of the Possessor slot, because we don’t want an s-genitive to match.</p>
<p>Within each non-capturing group, therefore, we want to match either an adjective (lines 3 and 9) or a noun (lines 4 and 10), but we still get a match if neither of them occurs. They are also followed by <code>\s+</code> to capture the whitespace characters between the words.</p>
<p>Finally, lines 7 and 8 match the core of the <em>of</em>-genitive construction, i.e.&nbsp;<em>of/in</em> and <em>the/at</em>, surrounded and separated by whitespace characters.</p>
</div>
</div>
</div>
<!-- TODO talk about limitations -->
<!-- The solution is far from perfect. Think about the following -->
<!-- examples, how they are dealt with now, and how we would want to deal -->
<!-- with them ideally: -->
<!--  - the/at center/nn of/in the/at entire/jj two-and-a-half-mile/jj -->
<!--    length/nn |of/in the/at project/nn -->
<!--  - the/at growth/nn of/in the/at child's/nn$ conscience/nn -->
<!--  - the/at boxy/jj look/nn of/in the/at '20's/nns and/cc '40's/nns -->
<!--  - the/at confidence/nn of/in the/at Democratic/jj-tl rank/nn -->
<!--    and/cc file/nn -->
<!--  - the/at election/nn of/in the/at man/nn who/wps defeated/vbd him/ppo -->
<!--  - the/at day-to-day/jj course/nn of/in the/at closest/jjt -->
<!--    Presidential/jj-tl election/nn in/in American/jj history/nn -->
<!-- Likewise, the solutions we will use for the other queries have their -->
<!-- limitations. A more thorough case study would imply a step of -->
<!-- manual correction of the results (perhaps in combination with -->
<!-- further refinements of the queries). -->
</section><section id="code" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="code">Code</h3>
<p>We build the concordance with <code><a href="https://masterclm.github.io/mclm/reference/conc.html">conc()</a></code>, which takes a corpus or filenames, e.g.&nbsp;<code>brown_fnames</code>, and a regular expression to match, e.g.&nbsp;<code>pattern</code>. We can then explore the concordance with <code><a href="https://masterclm.github.io/mclm/reference/print_kwic.html">print_kwic()</a></code>, <code><a href="https://masterclm.github.io/mclm/reference/explore.html">explore()</a></code> or <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code>. This really is advisable, in order to inspect how good the regex pattern is and see if you might want to refine it to capture patterns that were missed, or to exclude patterns that should be discarded. <a href="#tbl-conc1">Table&nbsp;1</a> prints the first 6 items in the concordance with <a href="http://haozhu233.github.io/kableExtra/">kableExtra</a>.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>With practice, you’ll find the balance between refining the automatic process and performing manual cleaning. In some cases, it’s quicker to fix the automatic procedure; in other cases, manual adjustments are easier and more reliable.</p>
</div></div><div class="cell">
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd</span> <span class="op">&lt;-</span> <span class="va">brown_fnames</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://masterclm.github.io/mclm/reference/conc.html">conc</a></span><span class="op">(</span><span class="va">pattern</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://masterclm.github.io/mclm/reference/print_kwic.html">print_kwic</a></span><span class="op">(</span><span class="va">cd</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>idx                      left|        match        |right                   
  1 ... suit/nn to/to test/vb|the/at va...at act/nn|,/, and/cc then/rb th...
  2 ...n/cd dollars/nns at/in|the/at en...j year/nn|next/ap Aug./np 31/cd...
  3 ...e/ber teaching/vbg ./.|The/at re...rement/nn|would/md be/be in/in ...
  4 ...ill/md retire/vb at/in|the/at cl...n term/nn|./. Dr./nn-tl Clark/n...
  5 ... ``/`` Actually/rb ,/,|the/at ab...rocess/nn|may/md have/hv consti...
  6 .../at 23d/od ward/nn ./.|The/at ca...udges/nns|in/in the/at 58th/od ...
  7 ...O/nn line/nn ./. On/in|the/at ne... sheet/nn|must/md be/be set/vbn...
  8 ...the/at alliance/nn ,/,|the/at us...ion/nn-tl|for/in-tl Economic/jj...
  9 ...ns as/ql well/rb as/cs|the/at ma...errent/nn|./. This/dt increase/...
 10 ...ey/ppss count/vb on/in|the/at ai...tries/nns|attending/vbg the/at ...
...</code></pre>
</div>
</div>
<div class="cell page-columns page-full">
<details><summary>Code</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">left</span>, <span class="va">match</span>, <span class="va">right</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="st">"c"</span>, <span class="st">"l"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html">kable_paper</a></span><span class="op">(</span>font_size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display column-screen">
<div id="tbl-conc1" class="anchored">

<table class=" lightable-paper" style="font-size: 15px; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<caption>Table&nbsp;1:  Concordance with first results of first query. </caption>
 <thead><tr>
<th style="text-align:right;"> left </th>
   <th style="text-align:center;"> match </th>
   <th style="text-align:left;"> right </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:right;"> ns million/cd worth/nn of/in highway/nn reconstruction/nn bonds/nns ./. The/at bond/nn issue/nn will/md go/vb to/in the/at state/nn courts/nns for/in a/at friendly/jj test/nn suit/nn to/to test/vb </td>
   <td style="text-align:center;"> the/at validity/nn of/in the/at act/nn </td>
   <td style="text-align:left;"> ,/, and/cc then/rb the/at sales/nns will/md begin/vb and/cc contracts/nns let/vbn for/in repair/nn work/nn on/in some/dti of/in Georgia's/np$ most/ql heavily/rb traveled/vbn highways/nns ./. A/at H </td>
  </tr>
<tr>
<td style="text-align:right;"> servative/jj ''/'' his/pp$ estimate/nn that/cs it/pps would/md produce/vb 17/cd million/cd dollars/nns to/to help/vb erase/vb an/at anticipated/vbn deficit/nn of/in 63/cd million/cd dollars/nns at/in </td>
   <td style="text-align:center;"> the/at end/nn of/in the/at current/jj fiscal/jj year/nn </td>
   <td style="text-align:left;"> next/ap Aug./np 31/cd ./. He/pps told/vbd the/at committee/nn the/at measure/nn would/md merely/rb provide/vb means/nns of/in enforcing/vbg the/at escheat/nn law/nn which/wdt has/hvz been/ben on/in </td>
  </tr>
<tr>
<td style="text-align:right;"> over/np also/rb would/md require/vb junior-senior/jj high/nn teachers/nns to/to have/hv at/in least/ap 24/cd semester/nn hours/nns credit/vb in/in the/at subject/nn they/ppss are/ber teaching/vbg ./. </td>
   <td style="text-align:center;"> The/at remainder/nn of/in the/at 4-year/jj college/nn requirement/nn </td>
   <td style="text-align:left;"> would/md be/be in/in general/jj subjects/nns ./. ``/`` A/at person/nn with/in a/at master's/nn$ degree/nn in/in physics/nn ,/, chemistry/nn ,/, math/nn or/cc English/np ,/, yet/rb who/wps has/hvz n </td>
  </tr>
<tr>
<td style="text-align:right;"> /np Clark/np of/in Hays/np ,/, Kan./np as/cs the/at school's/nn$ new/jj president/nn ./. Dr./nn-tl Clark/np will/md succeed/vb Dr./nn-tl J./np R./np McLemore/np ,/, who/wps will/md retire/vb at/in </td>
   <td style="text-align:center;"> the/at close/nn of/in the/at present/jj school/nn term/nn </td>
   <td style="text-align:left;"> ./. Dr./nn-tl Clark/np holds/vbz an/at earned/vbn Doctor/nn-tl of/in-tl Education/nn-tl degree/nn from/in the/at University/nn-tl of/in-tl Oklahoma/np-tl ./. He/pps also/rb received/vbd a/at Master </td>
  </tr>
<tr>
<td style="text-align:right;"> d/jj jury/nn room/nn ''/'' ./. He/pps said/vbd this/dt constituted/vbd a/at ``/`` very/ql serious/jj misuse/nn ''/'' of/in the/at Criminal/jj-tl court/nn-tl processes/nns ./. ``/`` Actually/rb ,/, </td>
   <td style="text-align:center;"> the/at abuse/nn of/in the/at process/nn </td>
   <td style="text-align:left;"> may/md have/hv constituted/vbn a/at contempt/nn of/in the/at Criminal/jj-tl court/nn-tl of/in-tl Cook/np county/nn ,/, altho/cs vindication/nn of/in the/at authority/nn of/in that/dt court/nn is/bez n </td>
  </tr>
<tr>
<td style="text-align:right;"> at 21st/od and/cc 28th/od precincts/nns of/in the/at 29th/od ward/nn ,/, the/at 18th/od precinct/nn of/in the/at 4th/od ward/nn ,/, and/cc the/at 9th/od precinct/nn of/in the/at 23d/od ward/nn ./. </td>
   <td style="text-align:center;"> The/at case/nn of/in the/at judges/nns </td>
   <td style="text-align:left;"> in/in the/at 58th/od precinct/nn of/in the/at 23d/od ward/nn had/hvd been/ben heard/vbn previously/rb and/cc taken/vbn under/in advisement/nn by/in Karns/np ./. Two/cd other/ap cases/nns also/rb were/ </td>
  </tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Because <code>cd</code> is also a dataframe, of which <code>match</code> is a column, we can also inspect the elements in the <code>match</code> by extracting it.</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">cd</span><span class="op">$</span><span class="va">match</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "the/at validity/nn of/in the/at act/nn "                              
[2] "the/at end/nn of/in the/at current/jj fiscal/jj year/nn "             
[3] "The/at remainder/nn of/in the/at 4-year/jj college/nn requirement/nn "
[4] "the/at close/nn of/in the/at present/jj school/nn term/nn "           
[5] "the/at abuse/nn of/in the/at process/nn "                             
[6] "The/at case/nn of/in the/at judges/nns "                              </code></pre>
</div>
</div>
<p>Once we have a decent concordance, we can add variables that are characteristic of it. All of these observations will have the value <em>of</em> in the <code>gen_type</code> variable and the value <em>common</em> in the <code>possessor_type</code> variable. In addition, we can extract the constituents of the Possessed and Possessor slots with <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">mclm::re_replace_first()</a></code>. The first argument is a text to match (the elements in the <code>match</code> column); the second is a regular expression to match in the text (the <code>pattern</code> we use to retrieve the text), and the third is a replacement string. <code>"\\1"</code> and <code>"\\2"</code> correspond to the contents of the <a href="#cb7-3">first</a> and <a href="#cb7-9">second</a> capturing groups in <code>pattern</code>, respectively. In other words, we find the portion of text in each element of <code>match</code> that matches the <code>pattern</code> (which is all of it, since that was how it was constructed) and extract either the first capturing group, to fill the <code>possessed</code> column, or the second capturing group, to fill the <code>possessor</code> column.</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd</span> <span class="op">&lt;-</span> <span class="va">cd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    gen_type <span class="op">=</span> <span class="st">"of"</span>,</span>
<span>    possessor_type <span class="op">=</span> <span class="st">"common"</span>,</span>
<span>    possessed <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\1"</span><span class="op">)</span>, </span>
<span>    possessor <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\2"</span><span class="op">)</span> </span>
<span><span class="op">)</span></span>
<span><span class="va">cd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">possessed</span>, <span class="va">possessor</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html">kable_paper</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="tbl-variables" class="anchored">

<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<caption>Table&nbsp;2:  Subset of annotated observations of the first dataset. </caption>
 <thead><tr>
<th style="text-align:left;"> match </th>
   <th style="text-align:left;"> possessed </th>
   <th style="text-align:left;"> possessor </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> the/at validity/nn of/in the/at act/nn </td>
   <td style="text-align:left;"> validity/nn </td>
   <td style="text-align:left;"> act/nn </td>
  </tr>
<tr>
<td style="text-align:left;"> the/at end/nn of/in the/at current/jj fiscal/jj year/nn </td>
   <td style="text-align:left;"> end/nn </td>
   <td style="text-align:left;"> current/jj fiscal/jj year/nn </td>
  </tr>
<tr>
<td style="text-align:left;"> The/at remainder/nn of/in the/at 4-year/jj college/nn requirement/nn </td>
   <td style="text-align:left;"> remainder/nn </td>
   <td style="text-align:left;"> 4-year/jj college/nn requirement/nn </td>
  </tr>
<tr>
<td style="text-align:left;"> the/at close/nn of/in the/at present/jj school/nn term/nn </td>
   <td style="text-align:left;"> close/nn </td>
   <td style="text-align:left;"> present/jj school/nn term/nn </td>
  </tr>
<tr>
<td style="text-align:left;"> the/at abuse/nn of/in the/at process/nn </td>
   <td style="text-align:left;"> abuse/nn </td>
   <td style="text-align:left;"> process/nn </td>
  </tr>
<tr>
<td style="text-align:left;"> The/at case/nn of/in the/at judges/nns </td>
   <td style="text-align:left;"> case/nn </td>
   <td style="text-align:left;"> judges/nns </td>
  </tr>
</tbody>
</table>
</div>
</div>
</div>
</section></section><section id="sec-query2" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="sec-query2">Of-genitive with proper nouns</h2>
<p>The second query also captures the <em>of</em>-genitive variant, but with proper nouns in the Possessor slot instead, e.g.&nbsp;“the rivers of Belgium”.</p>
<section id="regular-expression-1" class="level3"><h3 class="anchored" data-anchor-id="regular-expression-1">Regular expression</h3>
<p>The regular expression is very similar to the one for the first query, with a few differences:</p>
<ul>
<li><p>It does not ask or even accept an article after <em>of/in</em>.</p></li>
<li><p>The noun(s) requested in lines 10 and 11 are proper nouns instead of common nouns.</p></li>
<li><p>Between the optional adjective(s) and the noun(s) of the second capturing group, i.e.&nbsp;the Possessor slot, we also accept optional items with any part-of-speech as long as they also end in <em>-tl</em> (line 9).</p></li>
</ul>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Rewriting variables
</div>
</div>
<div class="callout-body-container callout-body">
<p>Notice that we are rewriting the variable <code>pattern</code> with the regex for the second query, so, if you suddenly wanted to rerun the first query, you would need to change <code>pattern</code> again.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>pattern <span class="ot">&lt;-</span> r<span class="st">"--[(?xi)</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="st">       </span><span class="sc">\b</span><span class="st">         the / at                 \s+</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="st">       ( (?:  [^\s/]+ / jj         [^\s]*  \s+ )*</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="st">         (?:  [^\s/]+ / nn         [^\s]*  \s+ )*</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="st">              [^\s/]+ / nn         [^\s]*</span></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="st">         )                                 \s+</span></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="st">                   of / in                 \s+</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="st">       ( (?:  [^\s/]+ / jj         [^\s]*  \s+ )*</span></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="st">         (?:  [^\s/]+ / [^\s]+ -tl [^\s$]* \s+ )*</span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="st">         (?:  [^\s/]+ / np         [^\s$]* \s+ )*</span></span>
<span id="cb14-11"><a href="#cb14-11"></a><span class="st">              [^\s/]+ / np         [^\s$]* </span></span>
<span id="cb14-12"><a href="#cb14-12"></a><span class="st">       )                                   \s</span></span>
<span id="cb14-13"><a href="#cb14-13"></a><span class="st">]--"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="code-1" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="code-1">Code</h3>
<p>The steps are the same as for the first query. We store the object in a different variable, <code>cd_new</code>, and we assign the value <em>proper</em> to <code>possessor_type</code> instead of <em>common</em>. Afterwards, we rewrite <code>cd</code> to be the combination of <code>cd</code> (the first query) and <code>cd_new</code> (the second query) using <code><a href="https://masterclm.github.io/mclm/reference/merge_conc.html">merge_conc()</a></code>, an <a href="https://github.com/masterclm/mclm">mclm</a> wrapper for <code><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd_new</span> <span class="op">&lt;-</span> <span class="va">brown_fnames</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://masterclm.github.io/mclm/reference/conc.html">conc</a></span><span class="op">(</span><span class="va">pattern</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    gen_type <span class="op">=</span> <span class="st">"of"</span>,</span>
<span>    possessor_type <span class="op">=</span> <span class="st">"proper"</span>,</span>
<span>    possessed <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\1"</span><span class="op">)</span>, </span>
<span>    possessor <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\2"</span><span class="op">)</span>  </span>
<span>  <span class="op">)</span></span>
<span><span class="co"># print_kwic(cd_new, n = 10)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell page-columns page-full">
<details><summary>Code</summary><div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd_new</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">left</span>, <span class="va">match</span>, <span class="va">right</span>, <span class="va">possessed</span>, <span class="va">possessor</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="st">"c"</span>, <span class="st">"l"</span>, <span class="st">"l"</span>, <span class="st">"l"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html">kable_paper</a></span><span class="op">(</span>font_size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display column-screen">
<div id="tbl-conc2" class="anchored">

<table class=" lightable-paper" style="font-size: 15px; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<caption>Table&nbsp;3:  Concordance with first results of second query and first annotation. </caption>
 <thead><tr>
<th style="text-align:right;"> left </th>
   <th style="text-align:center;"> match </th>
   <th style="text-align:left;"> right </th>
   <th style="text-align:left;"> possessed </th>
   <th style="text-align:left;"> possessor </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:right;"> -tl Department/nn-tl ``/`` has/hvz seen/vbn fit/jj to/to distribute/vb these/dts funds/nns through/in the/at welfare/nn departments/nns of/in all/abn the/at counties/nns in/in the/at state/nn with/in </td>
   <td style="text-align:center;"> the/at exception/nn of/in Fulton/np-tl </td>
   <td style="text-align:left;"> County/nn-tl ,/, which/wdt receives/vbz none/pn of/in this/dt money/nn ./. The/at jurors/nns said/vbd they/ppss realize/vb ``/`` a/at proportionate/jj distribution/nn of/in these/dts funds/nns migh </td>
   <td style="text-align:left;"> exception/nn </td>
   <td style="text-align:left;"> Fulton/np-tl </td>
  </tr>
<tr>
<td style="text-align:right;"> Austin/np-hl ,/,-hl Texas/np-hl --/-- Committee/nn approval/nn of/in Gov./nn-tl Price/np Daniel's/np$ ``/`` abandoned/vbn property/nn ''/'' act/nn seemed/vbd certain/jj Thursday/nr despite/in </td>
   <td style="text-align:center;"> the/at adamant/jj protests/nns of/in Texas/np </td>
   <td style="text-align:left;"> bankers/nns ./. Daniel/np personally/rb led/vbd the/at fight/nn for/in the/at measure/nn ,/, which/wdt he/pps had/hvd watered/vbn down/rp considerably/rb since/in its/pp$ rejection/nn by/in two/cd </td>
   <td style="text-align:left;"> adamant/jj protests/nns </td>
   <td style="text-align:left;"> Texas/np </td>
  </tr>
<tr>
<td style="text-align:right;"> n on/in the/at hearing/nn ,/, since/cs the/at bill/nn was/bedz introduced/vbn only/rb last/ap Monday/nr ./. Austin/np-hl ,/,-hl Texas/np-hl --/-- Senators/nns unanimously/rb approved/vbd Thursday/nr </td>
   <td style="text-align:center;"> the/at bill/nn of/in Sen./nn-tl George/np Parkhouse/np </td>
   <td style="text-align:left;"> of/in Dallas/np authorizing/vbg establishment/nn of/in day/nn schools/nns for/in the/at deaf/jj in/in Dallas/np and/cc the/at four/cd other/ap largest/jjt counties/nns ./. The/at bill/nn is/bez des </td>
   <td style="text-align:left;"> bill/nn </td>
   <td style="text-align:left;"> Sen./nn-tl George/np Parkhouse/np </td>
  </tr>
<tr>
<td style="text-align:right;"> --/-- Principals/nns of/in the/at 13/cd schools/nns in/in the/at Denton/np-tl Independent/jj-tl School/nn-tl District/nn-tl have/hv been/ben re-elected/vbn for/in the/at 1961-62/cd session/nn upon/in </td>
   <td style="text-align:center;"> the/at recommendation/nn of/in Supt./nn-tl Chester/np O./np Strickland/np </td>
   <td style="text-align:left;"> ./. State/nn and/cc federal/jj legislation/nn against/in racial/jj discrimination/nn in/in employment/nn was/bedz called/vbn for/in yesterday/nr in/in a/at report/nn of/in a/at ``/`` blue/jj ribbon </td>
   <td style="text-align:left;"> recommendation/nn </td>
   <td style="text-align:left;"> Supt./nn-tl Chester/np O./np Strickland/np </td>
  </tr>
<tr>
<td style="text-align:right;"> b of/in the/at circumstances/nns that/wps have/hv brought/vbn these/dts troubles/nns about/rp ,/, has/hvz been/ben conspicuous/jj by/in its/pp$ absence/nn ./. Explosion/nn-hl avoided/vbn-hl In/in </td>
   <td style="text-align:center;"> the/at case/nn of/in Portugal/np </td>
   <td style="text-align:left;"> ,/, which/wdt a/at few/ap weeks/nns ago/rb was/bedz rumored/vbn ready/jj to/to walk/vb out/rp of/in the/at NATO/nn Council/nn-tl should/md critics/nns of/in its/pp$ Angola/np policy/nn prove/vb harsh/ </td>
   <td style="text-align:left;"> case/nn </td>
   <td style="text-align:left;"> Portugal/np </td>
  </tr>
<tr>
<td style="text-align:right;"> some/dti disappointment/nn that/cs the/at United/vbn-tl States/nns-tl leadership/nn has/hvz not/* been/ben as/ql much/rb in/in evidence/nn as/cs hoped/vbn for/in ./. One/cd diplomat/nn described/vbd </td>
   <td style="text-align:center;"> the/at tenor/nn of/in Secretary/nn-tl of/in-tl State/nn-tl Dean/np </td>
   <td style="text-align:left;"> Rusk's/np$ speeches/nns as/cs ``/`` inconclusive/jj ''/'' ./. But/cc he/pps hastened/vbd to/to add/vb that/cs ,/, if/cs United/vbn-tl States/nns-tl policies/nns were/bed not/* always/rb clear/jj ,/, d </td>
   <td style="text-align:left;"> tenor/nn </td>
   <td style="text-align:left;"> Secretary/nn-tl of/in-tl State/nn-tl Dean/np </td>
  </tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/merge_conc.html">merge_conc</a></span><span class="op">(</span><span class="va">cd</span>, <span class="va">cd_new</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">cd</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4157</code></pre>
</div>
</div>
</section></section><section id="sec-query3" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="sec-query3">S-genitive with common nouns</h2>
<p>The third query retrieves attestations of the <em>s</em>-genitive variant with common nouns in the Possessor slot, e.g.&nbsp;“the student’s idea”.</p>
<section id="regular-expression-2" class="level3"><h3 class="anchored" data-anchor-id="regular-expression-2">Regular expression</h3>
<p>The main regular expression symbols are the same used in the previous queries. The main differences with the first regular expression are twofold. First, we don’t have a word between the two capturing groups; instead, we only have whitespace, and the noun in line 5 must include <em>$</em> somewhere in its part-of-speech tag. Second, the first capturing group now represents the Possessor, and the second capturing group, the Possessed. This doesn’t affect the writing of the regular expression itself, other than the requirement of <em>$</em> at the end of the first component and that it should <em>not</em> be present in the second component. However, it will affect the code below when extracting the Possessed and Possessor variables.</p>
<p>Again, here we overwrite the <code>pattern</code> variable with the new regular expression.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>pattern <span class="ot">&lt;-</span> r<span class="st">"--[(?xi)</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="st">      </span><span class="sc">\b</span><span class="st">         the / at                  \s+</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="st">      (  (?: [^\s/]+ / jj  [^\s]*          \s+ )*</span></span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="st">         (?: [^\s/]+ / nn  [^\s]*          \s+ )*</span></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="st">             [^\s/]+ / nn  [^\s]* [$] [^\s]*</span></span>
<span id="cb19-6"><a href="#cb19-6"></a><span class="st">       )                                   \s+</span></span>
<span id="cb19-7"><a href="#cb19-7"></a><span class="st">      (  (?: [^\s/]+ / jj  [^\s]*          \s+ )*</span></span>
<span id="cb19-8"><a href="#cb19-8"></a><span class="st">         (?: [^\s/]+ / nn  [^\s]*          \s+ )*</span></span>
<span id="cb19-9"><a href="#cb19-9"></a><span class="st">             [^\s/]+ / nn  [^\s$]*            </span></span>
<span id="cb19-10"><a href="#cb19-10"></a><span class="st">       )                                   \s </span></span>
<span id="cb19-11"><a href="#cb19-11"></a><span class="st">]--"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="code-2" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="code-2">Code</h3>
<p>Now that we have merged the first two queries into <code>cd</code>, we don’t need <code>cd_new</code> anymore, so we can overwrite it with the output of the third query. Again, we call <code><a href="https://masterclm.github.io/mclm/reference/conc.html">conc()</a></code> with <code>brown_fnames</code> and the new <code>pattern</code> and assign the values that correspond to this concordance: <em>s</em> for <code>gen_type</code> and <em>common</em> for <code>possessor_type</code>, and the appropriate capturing groups of the pattern for <code>possessed</code> and <code>possessor</code>. Since the word order is inverted in relation to the <em>of</em>-genitive, now the first capturing group corresponds to the Possessor and the second one to the Possessed.</p>
<p>Finally, we use <code><a href="https://masterclm.github.io/mclm/reference/merge_conc.html">merge_conc()</a></code> to merge the output of the first two queries, <code>cd</code>, with the output of the third query, <code>cd_new</code>, overwriting <code>cd</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd_new</span> <span class="op">&lt;-</span> <span class="va">brown_fnames</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://masterclm.github.io/mclm/reference/conc.html">conc</a></span><span class="op">(</span><span class="va">pattern</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    gen_type <span class="op">=</span> <span class="st">"s"</span>,</span>
<span>    possessor_type <span class="op">=</span> <span class="st">"common"</span>,</span>
<span>    possessed <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\2"</span><span class="op">)</span>, </span>
<span>    possessor <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\1"</span><span class="op">)</span>  </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># print_kwic(cd_new, n = 10)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell page-columns page-full">
<details><summary>Code</summary><div class="sourceCode" id="cb21"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd_new</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">left</span>, <span class="va">match</span>, <span class="va">right</span>, <span class="va">possessed</span>, <span class="va">possessor</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="st">"c"</span>, <span class="st">"l"</span>, <span class="st">"l"</span>, <span class="st">"l"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html">kable_paper</a></span><span class="op">(</span>font_size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display column-screen">
<div id="tbl-conc3" class="anchored">

<table class=" lightable-paper" style="font-size: 15px; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<caption>Table&nbsp;4:  Concordance with first results of third query and first annotation. </caption>
 <thead><tr>
<th style="text-align:right;"> left </th>
   <th style="text-align:center;"> match </th>
   <th style="text-align:left;"> right </th>
   <th style="text-align:left;"> possessed </th>
   <th style="text-align:left;"> possessor </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:right;"> re-set/vb the/at effective/jj date/nn so/cs that/cs an/at orderly/jj implementation/nn of/in the/at law/nn may/md be/be effected/vbn ''/'' ./. The/at grand/jj jury/nn took/vbd a/at swipe/nn at/in </td>
   <td style="text-align:center;"> the/at State/nn-tl Welfare/nn-tl Department's/nn$-tl handling/nn </td>
   <td style="text-align:left;"> of/in federal/jj funds/nns granted/vbn for/in child/nn welfare/nn services/nns in/in foster/jj homes/nns ./. ``/`` This/dt is/bez one/cd of/in the/at major/jj items/nns in/in the/at Fulton/np-tl Co </td>
   <td style="text-align:left;"> handling/nn </td>
   <td style="text-align:left;"> State/nn-tl Welfare/nn-tl Department's/nn$-tl </td>
  </tr>
<tr>
<td style="text-align:right;"> Atlanta/np-tl Bar/nn-tl Association/nn-tl and/cc an/at interim/nn citizens/nns committee/nn ./. ``/`` These/dts actions/nns should/md serve/vb to/to protect/vb in/in fact/nn and/cc in/in effect/nn </td>
   <td style="text-align:center;"> the/at court's/nn$ wards/nns </td>
   <td style="text-align:left;"> from/in undue/jj costs/nns and/cc its/pp$ appointed/vbn and/cc elected/vbn servants/nns from/in unmeritorious/jj criticisms/nns ''/'' ,/, the/at jury/nn said/vbd ./. Regarding/in Atlanta's/np$ new/ </td>
   <td style="text-align:left;"> wards/nns </td>
   <td style="text-align:left;"> court's/nn$ </td>
  </tr>
<tr>
<td style="text-align:right;"> e/np of/in Griffin/np ./. Attorneys/nns for/in the/at mayor/nn said/vbd that/cs an/at amicable/jj property/nn settlement/nn has/hvz been/ben agreed/vbn upon/rb ./. The/at petition/nn listed/vbd </td>
   <td style="text-align:center;"> the/at mayor's/nn$ occupation/nn </td>
   <td style="text-align:left;"> as/cs ``/`` attorney/nn ''/'' and/cc his/pp$ age/nn as/cs 71/cd ./. It/pps listed/vbd his/pp$ wife's/nn$ age/nn as/cs 74/cd and/cc place/nn of/in birth/nn as/cs Opelika/np ,/, Ala./np ./. The/at pe </td>
   <td style="text-align:left;"> occupation/nn </td>
   <td style="text-align:left;"> mayor's/nn$ </td>
  </tr>
<tr>
<td style="text-align:right;"> more/ap than/in a/at year/nn ./. The/at Hartsfield/np home/nr is/bez at/in 637/cd E./np Pelham/np Rd./nn-tl Aj/nn ./. Henry/np L./np Bowden/np was/bedz listed/vbn on/in the/at petition/nn as/cs </td>
   <td style="text-align:center;"> the/at mayor's/nn$ attorney/nn </td>
   <td style="text-align:left;"> ./. Hartsfield/np has/hvz been/ben mayor/nn of/in Atlanta/np ,/, with/in exception/nn of/in one/cd brief/jj interlude/nn ,/, since/in 1937/cd ./. His/pp$ political/jj career/nn goes/vbz back/rb to/ </td>
   <td style="text-align:left;"> attorney/nn </td>
   <td style="text-align:left;"> mayor's/nn$ </td>
  </tr>
<tr>
<td style="text-align:right;"> ith/in exception/nn of/in one/cd brief/jj interlude/nn ,/, since/in 1937/cd ./. His/pp$ political/jj career/nn goes/vbz back/rb to/in his/pp$ election/nn to/in city/nn council/nn in/in 1923/cd ./. </td>
   <td style="text-align:center;"> The/at mayor's/nn$ present/jj term/nn </td>
   <td style="text-align:left;"> of/in office/nn expires/vbz Jan./np 1/cd ./. He/pps will/md be/be succeeded/vbn by/in Ivan/np Allen/np Jr./np ,/, who/wps became/vbd a/at candidate/nn in/in the/at Sept./np 13/cd primary/nn after/cs M </td>
   <td style="text-align:left;"> present/jj term/nn </td>
   <td style="text-align:left;"> mayor's/nn$ </td>
  </tr>
<tr>
<td style="text-align:right;"> ue/vb the/at new/jj rural/jj roads/nns bonds/nns ./. Schley/np County/nn-tl Rep./nn-tl B./np D./np Pelham/np will/md offer/vb a/at resolution/nn Monday/nr in/in the/at House/nn-tl to/to rescind/vb </td>
   <td style="text-align:center;"> the/at body's/nn$ action/nn </td>
   <td style="text-align:left;"> of/in Friday/nr in/in voting/vbg itself/ppl a/at $10/nns per/in day/nn increase/nn in/in expense/nn allowances/nns ./. Pelham/np said/vbd Sunday/nr night/nn there/ex was/bedz research/nn being/beg </td>
   <td style="text-align:left;"> action/nn </td>
   <td style="text-align:left;"> body's/nn$ </td>
  </tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/merge_conc.html">merge_conc</a></span><span class="op">(</span><span class="va">cd</span>, <span class="va">cd_new</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">cd</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5207</code></pre>
</div>
</div>
</section></section><section id="sec-query4" class="level2 page-columns page-full"><h2 class="anchored" data-anchor-id="sec-query4">S-genitive with proper nouns</h2>
<p>The fourth query captures the <em>s</em>-genitive variant with proper nouns in the Possessor slot, e.g.&nbsp;<em>Belgium’s rivers</em>.</p>
<section id="regular-expression-3" class="level3"><h3 class="anchored" data-anchor-id="regular-expression-3">Regular expression</h3>
<p>Again we overwrite <code>pattern</code> with the regular expression for the last query, which is very similar to the third query. The difference, like the difference between the second and the first, is that it asks of proper nouns instead of common nouns in the Possessor slot (lines 4 and 5; but also it excludes articles at the beginning) and that it allows for any item with <em>-tl</em> in its part-of-speech tag preceding the Possessor noun (line 3).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>pattern <span class="ot">&lt;-</span> r<span class="st">"--[(?xi)</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="st">        </span><span class="sc">\b</span><span class="st">  ( (?: [^\s/]+ / jj         [^\s]*          \s+ )*</span></span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="st">              (?: [^\s/]+ / [^\s]+ -tl [^\s]*          \s+ )*</span></span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="st">              (?: [^\s/]+ / np         [^\s$]*         \s+ )*</span></span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="st">                  [^\s/]+ / np         [^\s]* [$] [^\s]*        </span></span>
<span id="cb24-6"><a href="#cb24-6"></a><span class="st">            )                                          \s+</span></span>
<span id="cb24-7"><a href="#cb24-7"></a><span class="st">            ( (?: [^\s/]+ / jj         [^\s]*          \s+ )*</span></span>
<span id="cb24-8"><a href="#cb24-8"></a><span class="st">              (?: [^\s/]+ / nn         [^\s]*          \s+ )*</span></span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="st">                  [^\s/]+ / nn         [^\s$]*           </span></span>
<span id="cb24-10"><a href="#cb24-10"></a><span class="st">            )                                          \s</span></span>
<span id="cb24-11"><a href="#cb24-11"></a><span class="st">]--"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="code-3" class="level3 page-columns page-full"><h3 class="anchored" data-anchor-id="code-3">Code</h3>
<p>Again we overwrite the now useless <code>cd_new</code> with the output of the fourth query and assign the appropriate values for the common variables. The <code>possessor_type</code> is now <em>proper</em>, but the rest of the variables take the same values as in the previous query. At the end, we overwrite <code>cd</code> by merging the old <code>cd</code>, which contains the output of the first three queries, and <code>cd_new</code>.</p>
<div class="cell">
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd_new</span> <span class="op">&lt;-</span> <span class="va">brown_fnames</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://masterclm.github.io/mclm/reference/conc.html">conc</a></span><span class="op">(</span><span class="va">pattern</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span></span>
<span>    gen_type <span class="op">=</span> <span class="st">"s"</span>,</span>
<span>    possessor_type <span class="op">=</span> <span class="st">"proper"</span>,</span>
<span>    possessed <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\2"</span><span class="op">)</span>, </span>
<span>    possessor <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_first</a></span><span class="op">(</span><span class="va">match</span>, <span class="va">pattern</span>, <span class="st">"\\1"</span><span class="op">)</span>  </span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># print_kwic(cd_new, n = 10)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell page-columns page-full">
<details><summary>Code</summary><div class="sourceCode" id="cb26"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd_new</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">left</span>, <span class="va">match</span>, <span class="va">right</span>, <span class="va">possessed</span>, <span class="va">possessor</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html">kbl</a></span><span class="op">(</span>align <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="st">"c"</span>, <span class="st">"l"</span>, <span class="st">"l"</span>, <span class="st">"l"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html">kable_paper</a></span><span class="op">(</span>font_size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display column-screen">
<div id="tbl-conc4" class="anchored">

<table class=" lightable-paper" style="font-size: 15px; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;">
<caption>Table&nbsp;5:  Concordance with first results of fourth query and first annotation. </caption>
 <thead><tr>
<th style="text-align:right;"> left </th>
   <th style="text-align:center;"> match </th>
   <th style="text-align:left;"> right </th>
   <th style="text-align:left;"> possessed </th>
   <th style="text-align:left;"> possessor </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:right;"> The/at Fulton/np-tl County/nn-tl Grand/jj-tl Jury/nn-tl said/vbd Friday/nr an/at investigation/nn of/in </td>
   <td style="text-align:center;"> Atlanta's/np$ recent/jj primary/nn election/nn </td>
   <td style="text-align:left;"> produced/vbd ``/`` no/at evidence/nn ''/'' that/cs any/dti irregularities/nns took/vbd place/nn ./. The/at jury/nn further/rbr said/vbd in/in term-end/nn presentments/nns that/cs the/at City/nn-tl </td>
   <td style="text-align:left;"> recent/jj primary/nn election/nn </td>
   <td style="text-align:left;"> Atlanta's/np$ </td>
  </tr>
<tr>
<td style="text-align:right;"> nterest/nn in/in the/at election/nn ,/, the/at number/nn of/in voters/nns and/cc the/at size/nn of/in this/dt city/nn ''/'' ./. The/at jury/nn said/vbd it/pps did/dod find/vb that/cs many/ap of/in </td>
   <td style="text-align:center;"> Georgia's/np$ registration/nn </td>
   <td style="text-align:left;"> and/cc election/nn laws/nns ``/`` are/ber outmoded/jj or/cc inadequate/jj and/cc often/rb ambiguous/jj ''/'' ./. It/pps recommended/vbd that/cs Fulton/np legislators/nns act/vb ``/`` to/to have/hv </td>
   <td style="text-align:left;"> registration/nn </td>
   <td style="text-align:left;"> Georgia's/np$ </td>
  </tr>
<tr>
<td style="text-align:right;"> at result/nn of/in city/nn personnel/nns policies/nns ''/'' ./. It/pps urged/vbd that/cs the/at city/nn ``/`` take/vb steps/nns to/to remedy/vb ''/'' this/dt problem/nn ./. Implementation/nn of/in </td>
   <td style="text-align:center;"> Georgia's/np$ automobile/nn title/nn law/nn </td>
   <td style="text-align:left;"> was/bedz also/rb recommended/vbn by/in the/at outgoing/jj jury/nn ./. It/pps urged/vbd that/cs the/at next/ap Legislature/nn-tl ``/`` provide/vb enabling/vbg funds/nns and/cc re-set/vb the/at effec </td>
   <td style="text-align:left;"> automobile/nn title/nn law/nn </td>
   <td style="text-align:left;"> Georgia's/np$ </td>
  </tr>
<tr>
<td style="text-align:right;"> t's/nn$ wards/nns from/in undue/jj costs/nns and/cc its/pp$ appointed/vbn and/cc elected/vbn servants/nns from/in unmeritorious/jj criticisms/nns ''/'' ,/, the/at jury/nn said/vbd ./. Regarding/in </td>
   <td style="text-align:center;"> Atlanta's/np$ new/jj multi-million-dollar/jj airport/nn </td>
   <td style="text-align:left;"> ,/, the/at jury/nn recommended/vbd ``/`` that/cs when/wrb the/at new/jj management/nn takes/vbz charge/nn Jan./np 1/cd the/at airport/nn be/be operated/vbn in/in a/at manner/nn that/wps will/md elimin </td>
   <td style="text-align:left;"> new/jj multi-million-dollar/jj airport/nn </td>
   <td style="text-align:left;"> Atlanta's/np$ </td>
  </tr>
<tr>
<td style="text-align:right;"> /nn opposes/vbz in/in its/pp$ platform/nn ./. Sam/np Caldwell/np ,/, State/nn-tl Highway/nn-tl Department/nn-tl public/jj relations/nns director/nn ,/, resigned/vbd Tuesday/nr to/to work/vb for/in </td>
   <td style="text-align:center;"> Lt./nn-tl Gov./nn-tl Garland/np Byrd's/np$ campaign/nn </td>
   <td style="text-align:left;"> ./. Caldwell's/np$ resignation/nn had/hvd been/ben expected/vbn for/in some/dti time/nn ./. He/pps will/md be/be succeeded/vbn by/in Rob/np Ledford/np of/in Gainesville/np ,/, who/wps has/hvz been/ </td>
   <td style="text-align:left;"> campaign/nn </td>
   <td style="text-align:left;"> Lt./nn-tl Gov./nn-tl Garland/np Byrd's/np$ </td>
  </tr>
<tr>
<td style="text-align:right;"> ll/np ,/, State/nn-tl Highway/nn-tl Department/nn-tl public/jj relations/nns director/nn ,/, resigned/vbd Tuesday/nr to/to work/vb for/in Lt./nn-tl Gov./nn-tl Garland/np Byrd's/np$ campaign/nn ./. </td>
   <td style="text-align:center;"> Caldwell's/np$ resignation/nn </td>
   <td style="text-align:left;"> had/hvd been/ben expected/vbn for/in some/dti time/nn ./. He/pps will/md be/be succeeded/vbn by/in Rob/np Ledford/np of/in Gainesville/np ,/, who/wps has/hvz been/ben an/at assistant/nn more/ap than/i </td>
   <td style="text-align:left;"> resignation/nn </td>
   <td style="text-align:left;"> Caldwell's/np$ </td>
  </tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">cd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/merge_conc.html">merge_conc</a></span><span class="op">(</span><span class="va">cd</span>, <span class="va">cd_new</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">cd</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7344</code></pre>
</div>
</div>
</section></section></section><section id="automatic-annotation" class="level1 page-columns page-full"><h1>Automatic annotation</h1>
<p>We now have a concordance <code>cd</code> with 7344 observations matching four different patterns. We can get a quick overview of the size of each subset with <code><a href="https://rdrr.io/r/stats/xtabs.html">xtabs()</a></code>. Here we can see that the most common pattern is the <em>of</em> genitive with a common noun in the Possessor slot, but also that within the <em>s</em> variant the proper noun is more common.</p>

<div class="no-row-height column-margin column-container"><div class="cell">
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span><span class="op">~</span> <span class="va">gen_type</span> <span class="op">+</span></span>
<span>        <span class="va">possessor_type</span>,</span>
<span>      data <span class="op">=</span> <span class="va">cd</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        possessor_type
gen_type common proper
      of   3151   1006
      s    1050   2137</code></pre>
</div>
</div></div><div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>It’s a good idea to practice quick overview functions, such as <code><a href="https://rdrr.io/r/stats/xtabs.html">xtabs()</a></code> and <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> from Base R, as well as <code><a href="https://dplyr.tidyverse.org/reference/count.html">count()</a></code> and <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> from <a href="https://tidyverse.tidyverse.org">tidyverse</a>. Running sophisticated analysis should not push us away from simpler forms of exploration of the data.</p>
</div>
</div>
<p>Before saving our concordance, we can add some automatic annotation. The following <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code> call adds or manipulates columns in different ways:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>cd <span class="ot">&lt;-</span> cd <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="at">possessed =</span> <span class="fu">re_replace_all</span>(possessed, </span>
<span id="cb31-3"><a href="#cb31-3"></a>                             r<span class="st">"--[(?xi) ([^\s/]+) / [^\s]+ ]--"</span>, </span>
<span id="cb31-4"><a href="#cb31-4"></a>                             <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-5"><a href="#cb31-5"></a>              <span class="fu">tolower</span>(),</span>
<span id="cb31-6"><a href="#cb31-6"></a>  <span class="at">possessor =</span> <span class="fu">re_replace_all</span>(possessor, </span>
<span id="cb31-7"><a href="#cb31-7"></a>                             r<span class="st">"--[(?xi) ([^\s/]+?) ('s)? / [^\s]+ ]--"</span>, </span>
<span id="cb31-8"><a href="#cb31-8"></a>                             <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-9"><a href="#cb31-9"></a>              <span class="fu">tolower</span>(),</span>
<span id="cb31-10"><a href="#cb31-10"></a>  <span class="at">comp =</span> <span class="fu">re_retrieve_first</span>(source, <span class="st">".(.)..$"</span>, <span class="at">requested_group =</span> <span class="dv">1</span>),</span>
<span id="cb31-11"><a href="#cb31-11"></a>  <span class="at">left_tagged =</span> left,</span>
<span id="cb31-12"><a href="#cb31-12"></a>  <span class="at">left        =</span> <span class="fu">re_replace_all</span>(left_tagged, </span>
<span id="cb31-13"><a href="#cb31-13"></a>                               r<span class="st">"--[(?xi) ([^\s/]+) / [^\s]+ ]--"</span>, </span>
<span id="cb31-14"><a href="#cb31-14"></a>                               <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>),</span>
<span id="cb31-15"><a href="#cb31-15"></a>  <span class="at">match_tagged =</span> match,</span>
<span id="cb31-16"><a href="#cb31-16"></a>  <span class="at">match        =</span> <span class="fu">re_replace_all</span>(match_tagged, </span>
<span id="cb31-17"><a href="#cb31-17"></a>                                r<span class="st">"--[(?xi) ([^\s/]+) / [^\s]+ ]--"</span>, </span>
<span id="cb31-18"><a href="#cb31-18"></a>                                <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>),</span>
<span id="cb31-19"><a href="#cb31-19"></a>  <span class="at">right_tagged =</span> right,</span>
<span id="cb31-20"><a href="#cb31-20"></a>  <span class="at">right        =</span> <span class="fu">re_replace_all</span>(right_tagged, </span>
<span id="cb31-21"><a href="#cb31-21"></a>                                r<span class="st">"--[(?xi) ([^\s/]+) / [^\s]+ ]--"</span>, </span>
<span id="cb31-22"><a href="#cb31-22"></a>                                <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>),</span>
<span id="cb31-23"><a href="#cb31-23"></a>  <span class="at">size_possessed =</span> <span class="fu">log</span>(<span class="fu">nchar</span>(possessed)),</span>
<span id="cb31-24"><a href="#cb31-24"></a>  <span class="at">size_possessor =</span> <span class="fu">log</span>(<span class="fu">nchar</span>(possessor)),</span>
<span id="cb31-25"><a href="#cb31-25"></a>  <span class="at">size_diff      =</span> size_possessor <span class="sc">-</span> size_possessed</span>
<span id="cb31-26"><a href="#cb31-26"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>Lines 2-4 remove the part-of-speech tags from the text in the <code>possessed</code> column, overwriting it. They do so by replacing all matches of the regular expression in line 3 as found in the text in line 2, i.e.&nbsp;the content of the <code>possessed</code> column, with the match of the first capturing group. The regular expression captures sequences of characters that are neither whitespace nor slashes, followed by a slash and then by another sequence of non whitespace characters, e.g.&nbsp;<em>the/at</em> and <em>example/nn</em>. The capturing group surrounds the first sequence before the slash, and therefore the result would replace <em>the/at example/nn</em> with <em>the example</em>.</p></li>
<li><p>Line 5 converts the new contents of <code>possessed</code> to lowercase, which is useful if you want to use the column as a random effect in regression analysis.</p></li>
<li><p>Lines 6-8 do the same as lines 2-4 but for the <code>possessor</code> column, and as such also exclude the optional <em>’s</em> sequence by leaving it out of the capturing group. Line 9 does the same as line 5, for the new contents of <code>possessor</code>. </p></li>
<li><p>Line 10 creates a column <code>comp</code> that reads the column <code>source</code>, where the names of the files are stored, and extracts the third to last character by using <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_retrieve_first()</a></code> with the pattern <code>.(.)..$</code> and specifying that we want the first captured group. This character corresponds to the genre assignment of the file and could be used in modelling.</p></li>
<li><p>Lines 12-14, 16-18 and 20-22 do the same as lines 2-4 for the columns <code>left</code>, <code>match</code> and <code>right</code> respectively. However, since we might want to keep the original, tagged text as well, lines 11, 15 and 19 stored the original values of these columns in new columns, <code>left_tagged</code>, <code>match_tagged</code> and <code>right_tagged</code> respectively.</p></li>
<li><p>Lines 22 and 23 count the number of characters in each row of <code>possessed</code> and <code>possessor</code> with <code><a href="https://rdrr.io/r/base/nchar.html">nchar()</a></code> and then take their logarithm with <code><a href="https://rdrr.io/r/base/Log.html">log()</a></code>. For example, for a word such as <em>example</em>, <code>nchar("example")</code> returns 7, and <code>log(nchar("example"))</code> returns 1.946; for <em>the example</em>, <code>nchar("the example")</code> returns 11, and <code>log(nchar("the example"))</code> returns 2.398. You can retrieve the original length by applying <code><a href="https://rdrr.io/r/base/Log.html">exp()</a></code>: <code>exp(log(nchar("the example"))</code> returns 11. Line 24 computes the difference between the logged size of the possessor and that of the possessed, giving us positive numbers when the possessor is longer and negative otherwise.</p></li>
</ul>
<div class="no-row-height column-margin column-container"><span class="">In this example, <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_all()</a></code> and <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_retrieve_first()</a></code> seem to be doing the same thing: they match a regular expression to a piece of text and extract the contents of the first captured group. The difference is that <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_all()</a></code> will replace <em>all</em> matches in a piece of text with the contents of the replacement string — if there are multiple matches, because there are multiple words, it will replace each group of <code>wordform/pos</code> with <code>wordform</code>. <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_retrieve_first()</a></code>, instead, will extract the first match of the pattern in the text, regardless of whether there are capturing groups; specifying <code>requested_group = 1</code> narrows down the return value to the match of the first capturing group in the match.</span></div><div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
EXTRA: Writing your own functions
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The code above has some repetition: the <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_all()</a></code> calls in lines 2, 6, 12, 16 and 20 all have the same structure. The first call and the three last calls only differ in the first argument (<code>possessed</code>, <code>left_tagged</code>, <code>match_tagged</code> or <code>right_tagged</code>), whereas the second call has a different first argument and a different pattern.</p>
<p>It is often useful —as long as it doesn’t hamper interpretation— to avoid repetition in coding. First, the more you type, the more chances you have of mistyping something. Second, if you want to “always do the same thing” but then you change your mind on what that thing should be, e.g.&nbsp;you want to refine the regex, it would be beter to only have to change it once, and not every time you do it.</p>
<p>This can be achieved with variables and functions. For example, instead of typing or copy-pasting the regular expressions multiple times, you could write the following variable and then just call <code>pattern</code> instead of the regex in lines 3, 12, 16 and 20. We have done this above.</p>
<div class="cell">
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">pattern</span> <span class="op">&lt;-</span> <span class="st">r"--[(?xi) ([^\s/]+) / [^\s]+ ]--"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Moreover, since the whole function call is pretty much the same, you could create your own function with one argument: the variable you want to change. After the code below, you could replace the full call from lines 2 to 4 with a simple <code>remove_tags(possessed)</code> in line 2, and the same, changing the name of the column, with the last three calls of <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_all()</a></code>.</p>
<div class="cell">
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">remove_tags</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">column</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_all</a></span><span class="op">(</span><span class="va">column</span>,</span>
<span>                 <span class="st">r"--[(?xi) ([^\s/]+) / [^\s]+ ]--"</span>, </span>
<span>                 <span class="st">"\\1"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>However, this doesn’t work with the second call of <code><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_all()</a></code>, since it uses a different pattern. You could either keep it that way, i.e.&nbsp;not replacing it with <code>remove_tags()</code>, or add an optional argument for the regular expression. The default value could be the most common regular expression, and then when you call <code>remove_tags()</code> on <code>possessor()</code> you could provide the appropriate regex.</p>
<div class="cell">
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">remove_tags</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>    <span class="va">column</span>,</span>
<span>    <span class="va">regex</span> <span class="op">=</span> <span class="st">r"--[(?xi) ([^\s/]+) / [^\s]+ ]--"</span></span>
<span>    <span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://masterclm.github.io/mclm/reference/re_convenience.html">re_replace_all</a></span><span class="op">(</span><span class="va">column</span>, <span class="va">regex</span>, <span class="st">"\\1"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>With this definition, the code from above would look as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>cd <span class="ot">&lt;-</span> cd <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="at">possessed =</span> <span class="fu">remove_tags</span>(possessed) <span class="sc">%&gt;%</span> <span class="fu">tolower</span>(),</span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="at">possessor =</span> <span class="fu">remove_tags</span>(possessor, </span>
<span id="cb35-4"><a href="#cb35-4"></a>                          r<span class="st">"--[(?xi) ([^\s/]+?) ('s)? / [^\s]+ ]--"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb35-5"><a href="#cb35-5"></a>              <span class="fu">tolower</span>(),</span>
<span id="cb35-6"><a href="#cb35-6"></a>  <span class="at">comp =</span> <span class="fu">re_retrieve_first</span>(source, <span class="st">".(.)..$"</span>, <span class="at">requested_group =</span> <span class="dv">1</span>),</span>
<span id="cb35-7"><a href="#cb35-7"></a>  <span class="at">left_tagged =</span> left,</span>
<span id="cb35-8"><a href="#cb35-8"></a>  <span class="at">left        =</span> <span class="fu">remove_tags</span>(left_tagged),</span>
<span id="cb35-9"><a href="#cb35-9"></a>  <span class="at">match_tagged =</span> match,</span>
<span id="cb35-10"><a href="#cb35-10"></a>  <span class="at">match        =</span> <span class="fu">remove_tags</span>(match_tagged),</span>
<span id="cb35-11"><a href="#cb35-11"></a>  <span class="at">right_tagged =</span> right,</span>
<span id="cb35-12"><a href="#cb35-12"></a>  <span class="at">right        =</span> <span class="fu">remove_tags</span>(right_tagged),</span>
<span id="cb35-13"><a href="#cb35-13"></a>  <span class="at">size_possessed =</span> <span class="fu">log</span>(<span class="fu">nchar</span>(possessed)),</span>
<span id="cb35-14"><a href="#cb35-14"></a>  <span class="at">size_possessor =</span> <span class="fu">log</span>(<span class="fu">nchar</span>(possessor)),</span>
<span id="cb35-15"><a href="#cb35-15"></a>  <span class="at">size_diff      =</span> size_possessor <span class="sc">-</span> size_possessed</span>
<span id="cb35-16"><a href="#cb35-16"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In fact, you could make the code even shorter by replacing these new lines 8-12 with a single call to <code><a href="https://dplyr.tidyverse.org/reference/across.html">across()</a></code>: <code>across(c(left, match, right), remove_tags, .names = "{.col}_untagged")</code>. In this case, instead of adding a suffix “_tagged” to the original columns, it adds an “_untagged” suffix to the new columns.</p>
</div>
</div>
</div>
<section id="citing-examples-in-markdown" class="level2"><h2 class="anchored" data-anchor-id="citing-examples-in-markdown">Citing examples in markdown</h2>
<p>With this new version of the concordance, which you can explore with <code>print_kwic(cd)</code>, <code>View(cd)</code> or <code>explore(cd)</code>, you can also extract full examples. If you use R Markdown or Quarto to write a report, rather than copy-pasting an example to describe, you can join the new <code>left</code>, <code>match</code> and <code>right</code> columns and call a specific example to illustrate.</p>
<p>In the following code:</p>
<ul>
<li><p>The call to <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> and <code><a href="https://masterclm.github.io/mclm/reference/short_names.html">short_names()</a></code> shortens the names of the files.</p></li>
<li><p>The calls to <code><a href="https://tidyr.tidyverse.org/reference/unite.html">unite()</a></code> create a column with the name of the first argument (<code>conc_line</code> or <code>id</code>) by joining the rest of the columns mentioned (<code>left</code>, <code>match</code> and <code>right</code>, or <code>source</code> and <code>id</code>). By default they are separated with an underscore, but the <code>sep</code> argument allows you to use a different term.</p></li>
<li><p>The call to <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> extracts only the <code>id</code> and <code>conc_line</code> columns. Afterwards, <code><a href="https://tibble.tidyverse.org/reference/enframe.html">deframe()</a></code> turns the two-column tibble into a named character vector: the values are the contexts and their names, the ids.</p></li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">examples</span> <span class="op">&lt;-</span> <span class="va">cd</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>source <span class="op">=</span> <span class="fu"><a href="https://masterclm.github.io/mclm/reference/short_names.html">short_names</a></span><span class="op">(</span><span class="va">source</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unite.html">unite</a></span><span class="op">(</span><span class="va">conc_line</span>, <span class="va">left</span>, <span class="va">match</span>, <span class="va">right</span>, sep <span class="op">=</span> <span class="st">" "</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unite.html">unite</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">source</span>, <span class="va">id</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">conc_line</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/enframe.html">deframe</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">examples</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                                                                                                                                                                                                                                                         ca01_1 
                         "ns million worth of highway reconstruction bonds . The bond issue will go to the state courts for a friendly test suit to test  the validity of the act  , and then the sales will begin and contracts let for repair work on some of Georgia's most heavily traveled highways . A H" 
                                                                                                                                                                                                                                                                                                         ca02_2 
             "servative '' his estimate that it would produce 17 million dollars to help erase an anticipated deficit of 63 million dollars at  the end of the current fiscal year  next Aug. 31 . He told the committee the measure would merely provide means of enforcing the escheat law which has been on" 
                                                                                                                                                                                                                                                                                                         ca02_3 
"over also would require junior-senior high teachers to have at least 24 semester hours credit in the subject they are teaching .  The remainder of the 4-year college requirement  would be in general subjects . `` A person with a master's degree in physics , chemistry , math or English , yet who has n" 
                                                                                                                                                                                                                                                                                                         ca02_4 
                            "/np Clark of Hays , Kan. as the school's new president . Dr. Clark will succeed Dr. J. R. McLemore , who will retire at  the close of the present school term  . Dr. Clark holds an earned Doctor of Education degree from the University of Oklahoma . He also received a Master" 
                                                                                                                                                                                                                                                                                                         ca03_5 
                                "d jury room '' . He said this constituted a `` very serious misuse '' of the Criminal court processes . `` Actually ,  the abuse of the process  may have constituted a contempt of the Criminal court of Cook county , altho vindication of the authority of that court is n" 
                                                                                                                                                                                                                                                                                                         ca03_6 
                            "at 21st and 28th precincts of the 29th ward , the 18th precinct of the 4th ward , and the 9th precinct of the 23d ward .  The case of the judges  in the 58th precinct of the 23d ward had been heard previously and taken under advisement by Karns . Two other cases also were/" </code></pre>
</div>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">examples</span><span class="op">[[</span><span class="st">"ca01_1"</span><span class="op">]</span><span class="op">]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ns million worth of highway reconstruction bonds . The bond issue will go to the state courts for a friendly test suit to test  the validity of the act  , and then the sales will begin and contracts let for repair work on some of Georgia's most heavily traveled highways . A H"</code></pre>
</div>
</div>
<p>Then you could write, in an empty line of your report, a numbered example with R inline code; this lets you easily cross-reference your example with <code>(@label)</code>, which returns (1).</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>(@label) <span class="in">`r examples[["ca01_1"]]`</span> ``</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol class="example" type="1">
<li>ns million worth of highway reconstruction bonds . The bond issue will go to the state courts for a friendly test suit to test the validity of the act , and then the sales will begin and contracts let for repair work on some of Georgia’s most heavily traveled highways . A H</li>
</ol>
<p>In any case, you probably want to edit your example a bit, removing unnecessary text from the extremes, editing sections to include italics or bold or even, if your corpus is in a language other than English, add glosses and translations to print with <a href="https://montesmariana.github.io/glossr/">glossr</a>.</p>
</section><section id="save" class="level2"><h2 class="anchored" data-anchor-id="save">Save your progress and be free!</h2>
<p>We are DONE. Congratulations! We can now store the output in a tab-separated file with <code><a href="https://masterclm.github.io/mclm/reference/write_conc.html">write_conc()</a></code>. Then you can open the file with any spreadsheet software for manual cleaning and/or annotation and then read it again from R with <code>read_conc(filename)</code>, as we will do in the <a href="../studies/genitive-alternation-analysis.html">second part</a> of this study.</p>
<div class="cell">
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://masterclm.github.io/mclm/reference/write_conc.html">write_conc</a></span><span class="op">(</span><span class="va">cd</span>, <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">data_folder</span>, <span class="st">"genitive-alternation.tab"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
CSV
</div>
</div>
<div class="callout-body-container callout-body">
<p>Spreadsheet programs may call this format a “csv”, comma-separated values file. What matters is that it’s a plain text file. A proper csv file will have commas to separate the different columns, or semicolons in some places where commas are used to indicate decimals. However, this is meant for numbers: texts, such as concordances, will inevitably have commas and probably also semicolons. Therefore, we use tabs to separate the columns instead.</p>
<p>The <a href="https://tidyverse.tidyverse.org">tidyverse</a> functions to read and write tab-separated files are <code><a href="https://readr.tidyverse.org/reference/read_delim.html">read_tsv()</a></code> and <code><a href="https://readr.tidyverse.org/reference/write_delim.html">write_tsv()</a></code> respectively.</p>
</div>
</div>


</section></section><div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>
<ol>
<li id="fn1"><p>The <em>’s</em> is part of the token it’s attached to.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
      <div class="nav-footer-center">Methods in Corpus Linguistics — Mariana Montes, 2022</div>
  </div>
</footer>


</body></html>