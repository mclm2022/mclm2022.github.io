{
  "hash": "b47f50df6eb07e52b23f06ffe224b300",
  "result": {
    "markdown": "---\ntitle: \"Association measures\"\nsubtitle: \"Methods of Corpus Linguistics (class 4)\"\nauthor: \"Mariana Montes\"\nformat:\n  revealjs:\n    preview-links: auto\n    multiplex: true\nexecute:\n  echo: true\n---\n\n\n\n\n## Outline\n\n\n- Introduction \n- Effect size measures \n- Strength of evidence measures \n- Usage in practice \n\n\n# Introduction\n\n## Sources\n\n- Check the documentation of [mclm::assoc_scores()](https://masterclm.github.io/mclm/reference/assoc_scores.html#possible-columns).\n\n- Evert (2007) in Toledo.\n\n::: {.footer}\nIntroduction\n:::\n\n## Terms\n\n::: {.panel-tabset}\n### Observed frequencies\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> Target item </th>\n   <th style=\"text-align:left;\"> Other items </th>\n   <th style=\"text-align:left;\"> Total </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Target context </td>\n   <td style=\"text-align:left;\"> O<sub>11</sub> </td>\n   <td style=\"text-align:left;\"> O<sub>12</sub> </td>\n   <td style=\"text-align:left;\"> R<sub>1</sub> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Reference context </td>\n   <td style=\"text-align:left;\"> O<sub>21</sub> </td>\n   <td style=\"text-align:left;\"> O<sub>22</sub> </td>\n   <td style=\"text-align:left;\"> R<sub>2</sub> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Total </td>\n   <td style=\"text-align:left;\"> C<sub>1</sub> </td>\n   <td style=\"text-align:left;\"> C<sub>2</sub> </td>\n   <td style=\"text-align:left;\"> N </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n### Expected frequencies\n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\"> Target item </th>\n   <th style=\"text-align:left;\"> Other items </th>\n   <th style=\"text-align:left;\"> Total </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Target context </td>\n   <td style=\"text-align:left;\"> E<sub>11</sub> </td>\n   <td style=\"text-align:left;\"> E<sub>12</sub> </td>\n   <td style=\"text-align:left;\"> R<sub>1</sub> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Reference context </td>\n   <td style=\"text-align:left;\"> E<sub>21</sub> </td>\n   <td style=\"text-align:left;\"> E<sub>22</sub> </td>\n   <td style=\"text-align:left;\"> R<sub>2</sub> </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Total </td>\n   <td style=\"text-align:left;\"> C<sub>1</sub> </td>\n   <td style=\"text-align:left;\"> C<sub>2</sub> </td>\n   <td style=\"text-align:left;\"> N </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n:::\n\n::: callout-tip\nSee [slides on Contingency tables](contingency-tables.qmd).\n:::\n\n::: {.footer}\nIntroduction\n:::\n\n## Set up data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(mclm)\ncorpus_folder <- here::here(\"studies\", \"_corpora\", \"brown\") # adapt path!!\nbrown_fnames <- get_fnames(corpus_folder) %>% keep_re(\"/c[a-z]\")\nhot_assoc <- surf_cooc(brown_fnames, \"^hot/jj\", re_token_splitter = \"\\\\s+\") %>% \n  assoc_scores() %>% as_tibble()\nhead(hot_assoc)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 17\n  type       a     b     c       d   dir exp_a  DP_rows RR_rows    OR       MS\n  <chr>  <dbl> <dbl> <dbl>   <dbl> <dbl> <dbl>    <dbl>   <dbl> <dbl>    <dbl>\n1 ,/,       49   728 58104 1116762     1  38.4  0.0136    1.28  1.29  0.000843\n2 the/at    39   738 68974 1105892    -1  45.6 -0.00851   0.855 0.847 0.000565\n3 ./.       38   739 48774 1126092     1  32.3  0.00739   1.18  1.19  0.000778\n4 and/cc    36   741 28506 1146360     1  18.9  0.0221    1.91  1.95  0.00126 \n5 a/at      28   749 22915 1151951     1  15.2  0.0165    1.85  1.88  0.00122 \n6 of/in     21   756 35007 1139859    -1  23.2 -0.00277   0.907 0.904 0.000600\n# … with 6 more variables: Dice <dbl>, PMI <dbl>, chi2_signed <dbl>,\n#   G_signed <dbl>, t <dbl>, p_fisher_1 <dbl>\n```\n:::\n:::\n\n\n\n::: {.footer}\nIntroduction\n:::\n\n\n\n\n\n# Effect size measures\n\n## Difference of proportions ($\\Delta p$)\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n$$\\frac{O_{11}}{R_1}-\\frac{O_{21}}{R_2}$$\n\n- $< 0$: repulsion\n-   $0$: neutral\n- $> 0$: attraction\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(desc(DP_rows)) %>% \n  select(type, a, b, c, d, DP_rows) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> d </th>\n   <th style=\"text-align:right;\"> DP_rows </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> and/cc </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 741 </td>\n   <td style=\"text-align:right;\"> 28506 </td>\n   <td style=\"text-align:right;\"> 1146360 </td>\n   <td style=\"text-align:right;\"> 0.022 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> a/at </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 749 </td>\n   <td style=\"text-align:right;\"> 22915 </td>\n   <td style=\"text-align:right;\"> 1151951 </td>\n   <td style=\"text-align:right;\"> 0.017 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 1174453 </td>\n   <td style=\"text-align:right;\"> 0.016 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ,/, </td>\n   <td style=\"text-align:right;\"> 49 </td>\n   <td style=\"text-align:right;\"> 728 </td>\n   <td style=\"text-align:right;\"> 58104 </td>\n   <td style=\"text-align:right;\"> 1116762 </td>\n   <td style=\"text-align:right;\"> 0.014 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> was/bedz </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 9793 </td>\n   <td style=\"text-align:right;\"> 1165073 </td>\n   <td style=\"text-align:right;\"> 0.008 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 1174733 </td>\n   <td style=\"text-align:right;\"> 0.008 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> ./. </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 739 </td>\n   <td style=\"text-align:right;\"> 48774 </td>\n   <td style=\"text-align:right;\"> 1126092 </td>\n   <td style=\"text-align:right;\"> 0.007 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> with/in </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 767 </td>\n   <td style=\"text-align:right;\"> 7251 </td>\n   <td style=\"text-align:right;\"> 1167615 </td>\n   <td style=\"text-align:right;\"> 0.007 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> it/pps </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 768 </td>\n   <td style=\"text-align:right;\"> 5844 </td>\n   <td style=\"text-align:right;\"> 1169022 </td>\n   <td style=\"text-align:right;\"> 0.007 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 1174770 </td>\n   <td style=\"text-align:right;\"> 0.006 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.notes}\nOne of the values has to be very high for the value to be high\n:::\n::: {.footer}\nEffect size measures\n:::\n\n## Relative risk\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n$$\\frac{O_{11}/R_1}{O_{21}/R_2}$$\n\n- $< 1$: repulsion\n-   $1$: neutral\n- $> 1$: attraction\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(desc(RR_rows)) %>% \n  select(type, a, b, c, d, RR_rows) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> d </th>\n   <th style=\"text-align:right;\"> RR_rows </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 1174854 </td>\n   <td style=\"text-align:right;\"> 504.02 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> soup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 1174853 </td>\n   <td style=\"text-align:right;\"> 348.94 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 1174826 </td>\n   <td style=\"text-align:right;\"> 113.40 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 1174794 </td>\n   <td style=\"text-align:right;\"> 84.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 1174770 </td>\n   <td style=\"text-align:right;\"> 78.75 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 1174803 </td>\n   <td style=\"text-align:right;\"> 72.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 1174733 </td>\n   <td style=\"text-align:right;\"> 68.21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 1174453 </td>\n   <td style=\"text-align:right;\"> 47.59 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> summer/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 128 </td>\n   <td style=\"text-align:right;\"> 1174738 </td>\n   <td style=\"text-align:right;\"> 35.44 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 623 </td>\n   <td style=\"text-align:right;\"> 1174243 </td>\n   <td style=\"text-align:right;\"> 9.71 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.notes}\nHow much higher, e.g. twice as high...\n:::\n\n::: {.footer}\nEffect size measures\n:::\n\n## Odds ratio\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n$$\\frac{O_{11}/O_{12}}{O_{21}/O_{22}}$$\n\n- $< 1$: repulsion\n-   $1$: neutral\n- $> 1$: attraction\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(desc(OR)) %>% \n  select(type, a, b, c, d, OR) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> d </th>\n   <th style=\"text-align:right;\"> OR </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 1174854 </td>\n   <td style=\"text-align:right;\"> 506.62 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> soup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 1174853 </td>\n   <td style=\"text-align:right;\"> 350.28 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 1174826 </td>\n   <td style=\"text-align:right;\"> 113.84 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 1174794 </td>\n   <td style=\"text-align:right;\"> 84.43 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 1174770 </td>\n   <td style=\"text-align:right;\"> 79.26 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 1174803 </td>\n   <td style=\"text-align:right;\"> 72.28 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 1174733 </td>\n   <td style=\"text-align:right;\"> 68.74 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 1174453 </td>\n   <td style=\"text-align:right;\"> 48.39 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> summer/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 128 </td>\n   <td style=\"text-align:right;\"> 1174738 </td>\n   <td style=\"text-align:right;\"> 35.57 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 623 </td>\n   <td style=\"text-align:right;\"> 1174243 </td>\n   <td style=\"text-align:right;\"> 9.75 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.footer}\nEffect size measures\n:::\n\n## log odds ratio\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n$$\\log\\left(\\frac{O_{11}/O_{12}}{O_{21}/O_{22}}\\right)$$\n\n- $< 0$: repulsion\n-   $0$: neutral\n- $> 0$: attraction\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% mutate(log_OR = log(OR)) %>% arrange(desc(log_OR)) %>% \n  select(type, a, b, c, d, OR, log_OR) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> d </th>\n   <th style=\"text-align:right;\"> OR </th>\n   <th style=\"text-align:right;\"> log_OR </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 1174854 </td>\n   <td style=\"text-align:right;\"> 506.62 </td>\n   <td style=\"text-align:right;\"> 6.23 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> soup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 1174853 </td>\n   <td style=\"text-align:right;\"> 350.28 </td>\n   <td style=\"text-align:right;\"> 5.86 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 1174826 </td>\n   <td style=\"text-align:right;\"> 113.84 </td>\n   <td style=\"text-align:right;\"> 4.74 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 1174794 </td>\n   <td style=\"text-align:right;\"> 84.43 </td>\n   <td style=\"text-align:right;\"> 4.44 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 1174770 </td>\n   <td style=\"text-align:right;\"> 79.26 </td>\n   <td style=\"text-align:right;\"> 4.37 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 1174803 </td>\n   <td style=\"text-align:right;\"> 72.28 </td>\n   <td style=\"text-align:right;\"> 4.28 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 1174733 </td>\n   <td style=\"text-align:right;\"> 68.74 </td>\n   <td style=\"text-align:right;\"> 4.23 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 1174453 </td>\n   <td style=\"text-align:right;\"> 48.39 </td>\n   <td style=\"text-align:right;\"> 3.88 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> summer/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 128 </td>\n   <td style=\"text-align:right;\"> 1174738 </td>\n   <td style=\"text-align:right;\"> 35.57 </td>\n   <td style=\"text-align:right;\"> 3.57 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 623 </td>\n   <td style=\"text-align:right;\"> 1174243 </td>\n   <td style=\"text-align:right;\"> 9.75 </td>\n   <td style=\"text-align:right;\"> 2.28 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.footer}\nEffect size measures\n:::\n\n## PMI\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n$$\\log_2 \\left(\\frac{O_{11}}{E_{11}}\\right)$$\n\n- $< 0$: repulsion\n-   $0$: neutral\n- $> 0$: attraction\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(desc(PMI)) %>% \n  select(type, a, exp_a, PMI) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> exp_a </th>\n   <th style=\"text-align:right;\"> PMI </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.011 </td>\n   <td style=\"text-align:right;\"> 8.56 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> soup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.011 </td>\n   <td style=\"text-align:right;\"> 8.15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.028 </td>\n   <td style=\"text-align:right;\"> 6.72 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.050 </td>\n   <td style=\"text-align:right;\"> 6.32 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.067 </td>\n   <td style=\"text-align:right;\"> 6.23 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.044 </td>\n   <td style=\"text-align:right;\"> 6.10 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.092 </td>\n   <td style=\"text-align:right;\"> 6.03 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0.282 </td>\n   <td style=\"text-align:right;\"> 5.53 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> summer/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.087 </td>\n   <td style=\"text-align:right;\"> 5.12 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.414 </td>\n   <td style=\"text-align:right;\"> 3.27 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.footer}\nEffect size measures\n:::\n\n## DICE coefficient\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n$$\\frac{2O_{11}}{R_1+C_1}$$\n\nHarmonic mean of $\\frac{O_{11}}{R_1}$ and $\\frac{O_{11}}{C_1}$\n\n- Range: 0-1\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(desc(Dice)) %>% \n  select(type, a, b, c, Dice) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> Dice </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 0.022 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 0.013 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 0.011 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 0.010 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 0.009 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> soup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0.008 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 0.007 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 0.007 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> summer/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 128 </td>\n   <td style=\"text-align:right;\"> 0.007 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 623 </td>\n   <td style=\"text-align:right;\"> 0.006 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.notes}\nThe harmonic mean of two proportions grows high only if both proportions are high -> so good for catching proper nouns.\nCombining: \"if we have the node, how often do we have the collocate\" and \"if we have the collocate, how often do we have the node\"\nbasically: is this the probability of being the first column bigger when you are in the first row than when you are in the second\n:::\n\n::: {.footer}\nEffect size measures\n:::\n\n## Sum up effect size measures\n\n- Intuitive\n\n. . .\n\n- Fragile, especially with low frequencies (which we often have)\n\n::: {.footer}\nEffect size measures\n:::\n\n\n\n\n\n# Strength of evidence measures\n\n## About these measures\n\n- How certain are we that there is a difference?\n\n- Take into amount effect size and amount of information.\n\n  + If you have a big difference you don't need much data.\n  \n  + If you have a subtle difference you need a lot of data.\n\n. . .\n\n- BUT they combine attraction and repulsion!\n\n::: {.footer}\nStrength of evidence measures\n:::\n\n## Chi-square ($\\chi^2$)\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n- $\\sum_{i=1}^{2}\\sum_{j=1}^{2}\\frac{(O_{ij}-E_{ij})^2}{E_{ij}}$\n\n- Not a good test for low frequency items (one of the expected frequencies is below 5)\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(desc(chi2_signed)) %>% \n  select(type, a, exp_a, b, c, d, chi2_signed) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> exp_a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> d </th>\n   <th style=\"text-align:right;\"> chi2_signed </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.011 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 1174854 </td>\n   <td style=\"text-align:right;\"> 1506.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> soup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.011 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 1174853 </td>\n   <td style=\"text-align:right;\"> 845.7 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0.282 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 1174453 </td>\n   <td style=\"text-align:right;\"> 575.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.092 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 1174733 </td>\n   <td style=\"text-align:right;\"> 380.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.067 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 1174770 </td>\n   <td style=\"text-align:right;\"> 364.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.028 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 1174826 </td>\n   <td style=\"text-align:right;\"> 310.9 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.050 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 1174794 </td>\n   <td style=\"text-align:right;\"> 310.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.044 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 1174803 </td>\n   <td style=\"text-align:right;\"> 200.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> summer/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.087 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 128 </td>\n   <td style=\"text-align:right;\"> 1174738 </td>\n   <td style=\"text-align:right;\"> 98.1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.414 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 623 </td>\n   <td style=\"text-align:right;\"> 1174243 </td>\n   <td style=\"text-align:right;\"> 31.1 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.notes}\nchecks sum of squared differences between each observed value and its expected counterpart (divided by the expected value)\nUnder $H_0$ this test statistic has a $\\chi^2$ distribution with one df.\n:::\n\n::: {.footer}\nStrength of evidence measures\n:::\n\n## Log-likelihood ratio: $G$ or $G^2$\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n$$2\\sum_{i=1}^{2}\\sum_{j=1}^{2}\\left(O_{ij} \\times log\\left(\\frac{O_{ij}}{E_{ij}}\\right) \\right)$$\n\n- Also problematic with low frequency but not as much as $\\chi^2$ (expected values can be as low as 3).\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(desc(G_signed)) %>% \n  select(type, a, exp_a, b, c, G_signed) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> exp_a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> G_signed </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 0.282 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 74.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.011 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 40.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 0.092 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 38.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0.067 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 33.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> soup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.011 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 28.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0.050 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 27.3 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.028 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 22.2 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.044 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 19.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> summer/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0.087 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 128 </td>\n   <td style=\"text-align:right;\"> 15.5 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> and/cc </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 18.864 </td>\n   <td style=\"text-align:right;\"> 741 </td>\n   <td style=\"text-align:right;\"> 28506 </td>\n   <td style=\"text-align:right;\"> 12.7 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.notes}\n- Like $\\chi^2$ but instead of taking the difference between observed and expected, it's a division with a log transformation\n- Under $H_0$ this test statistic has a $\\chi^2$ distribution with one df.\n- We calculate $L$, difference between proportions\n\t- Numerator: maximum likelihood estimation (MLE) respecting the null hypothesis\n\t- Denominator: maximum likelihood estimation allowing the proportion to be different from the observed one\n\t- Then this computes the probability of encountering the proportion that we have\n\t- $G^2 = -2 log(L)$\n- Higher values of $G^2$ (=lower values of $L$) show stronger evidence\n\n:::\n\n::: {.footer}\nStrength of evidence measures\n:::\n\n## Fisher exact test\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n- We'll use the p-value: the lower the better.\n\n- Used for low frequencies - accurate but computationally expensive.\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(p_fisher_1) %>% \n  select(type, a, b, c, d, p_fisher_1) %>% head(10) %>% \n  kbl(digits = 5) %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> d </th>\n   <th style=\"text-align:right;\"> p_fisher_1 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 1174453 </td>\n   <td style=\"text-align:right;\"> 0.00000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 1174854 </td>\n   <td style=\"text-align:right;\"> 0.00000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 1174733 </td>\n   <td style=\"text-align:right;\"> 0.00000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 1174770 </td>\n   <td style=\"text-align:right;\"> 0.00000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> soup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 1174853 </td>\n   <td style=\"text-align:right;\"> 0.00000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 1174794 </td>\n   <td style=\"text-align:right;\"> 0.00000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cup/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 40 </td>\n   <td style=\"text-align:right;\"> 1174826 </td>\n   <td style=\"text-align:right;\"> 0.00000 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> weather/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 63 </td>\n   <td style=\"text-align:right;\"> 1174803 </td>\n   <td style=\"text-align:right;\"> 0.00001 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> summer/nn </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n   <td style=\"text-align:right;\"> 128 </td>\n   <td style=\"text-align:right;\"> 1174738 </td>\n   <td style=\"text-align:right;\"> 0.00010 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> and/cc </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 741 </td>\n   <td style=\"text-align:right;\"> 28506 </td>\n   <td style=\"text-align:right;\"> 1146360 </td>\n   <td style=\"text-align:right;\"> 0.00024 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.notes}\n- Can work for low frequencies, so it is mostly used in those cases (since it's also computationally more demanding - sometimes it *never ends*)\n\n- The position of the observed $O_{11}$ in a hypergeometric distribution (given by the marginal frequencies $R_1$, $R_2$ and $C_1$?) is computed\n:::\n\n::: {.footer}\nStrength of evidence measures\n:::\n\n## t-Test {visibility=\"hidden\"}\n\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n- $\\frac{\\frac{O_{11}}{N}-\\left(\\frac{R_1}{N} \\times \\frac{C_1}{N}\\right)}{\\sqrt{\\frac{\\frac{O_{11}}{N} \\times \\left( 1 - \\frac{O_{11}}{N}\\right)}{N}}}$\n\n:::\n\n::: {.column width=\"60%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nhot_assoc %>% arrange(desc(t)) %>% \n  select(type, a, b, c, d, t) %>% head(10) %>% \n  kbl() %>% kable_paper(font_size = 22)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-size: 22px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> type </th>\n   <th style=\"text-align:right;\"> a </th>\n   <th style=\"text-align:right;\"> b </th>\n   <th style=\"text-align:right;\"> c </th>\n   <th style=\"text-align:right;\"> d </th>\n   <th style=\"text-align:right;\"> t </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> water/nn </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 1174453 </td>\n   <td style=\"text-align:right;\"> 3.53 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> and/cc </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 741 </td>\n   <td style=\"text-align:right;\"> 28506 </td>\n   <td style=\"text-align:right;\"> 1146360 </td>\n   <td style=\"text-align:right;\"> 2.86 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> a/at </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 749 </td>\n   <td style=\"text-align:right;\"> 22915 </td>\n   <td style=\"text-align:right;\"> 1151951 </td>\n   <td style=\"text-align:right;\"> 2.43 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cold/jj </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 771 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 1174733 </td>\n   <td style=\"text-align:right;\"> 2.41 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> sun/nn </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 772 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 1174770 </td>\n   <td style=\"text-align:right;\"> 2.21 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> cereal/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 1174854 </td>\n   <td style=\"text-align:right;\"> 2.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> coffee/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 1174794 </td>\n   <td style=\"text-align:right;\"> 1.98 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> was/bedz </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 764 </td>\n   <td style=\"text-align:right;\"> 9793 </td>\n   <td style=\"text-align:right;\"> 1165073 </td>\n   <td style=\"text-align:right;\"> 1.81 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> day/nn </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 623 </td>\n   <td style=\"text-align:right;\"> 1174243 </td>\n   <td style=\"text-align:right;\"> 1.79 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> very/ql </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 773 </td>\n   <td style=\"text-align:right;\"> 696 </td>\n   <td style=\"text-align:right;\"> 1174170 </td>\n   <td style=\"text-align:right;\"> 1.77 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n:::\n\n::::\n\n::: {.notes}\n- Used a lot in statistics even though mathematicians and statisticians don't really like it (conditions are mostly not met)\n- Keeps being used  (is supported by tools) because\n\t- like PMI, it was one of the first to be introduced\n\t- it's very intuitive\n- 0 is neutral, positive is attraction, negative is repulsion\nwhich, for a binary variable $X$ with value 1 for observations in $O_{11}$ and 0 in all the others, it is equivalent to $$\\frac{\\bar{X} - \\mu_0}{\\sqrt{\\frac{s^2}{n}}}$$\n:::\n\n::: {.footer}\nStrength of evidence measures\n:::\n\n::: {.notes}\nSpeelman prefers a combination of log-likelihood ratio $G$ with some effect measure, such as PMI :)\n:::\n\n\n\n\n\n\n# Usage in practice\n\n## 1. `assoc` object\n\nObtain a dataframe with association measures between different items and the target context.\n\n- **collocations:** e.g. between different words and *hot/jj*\n  \n- **keywords:** e.g. between different words and the academic files of the corpus.\n  \nCode: `mclm::assoc_scores()` or `mclm::assoc_abcd()`.\n\n::: {.footer}\nUsage in practice\n:::\n\n## What counts as association?\n\n- Set a threshold (always arbitrary, may be theoretically informed).\n\n- Use a ranking.\n\n- Combine: choose the n-best elements.\n\n::: callout-tip\nThis can also be combined with different measures, e.g. use frequency threshold, a minimum value of PMI and of $G^2$ and rank by either PMI or $G^2$.\n:::\n\n::: {.footer}\nUsage in practice\n:::\n\n## How to choose a measure?\n\n- It depends on the goal, previous literature...\n\n- For the final paper, *comparing measures* is a valid objective.\n\n::: callout-tip\n### Suggestion\n\nCombine an effect-size measure and a strength-of-evidence measure. Use them for thresholds and compare the rankings. A good pair is PMI and $G^2$.\n:::\n\n::: {.footer}\nUsage in practice\n:::\n\n# Next: Logistic regression",
    "supporting": [
      "assoc_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ],
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n\r\n      // dispatch for htmlwidgets\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for reveal\r\n    if (window.Reveal) {\r\n      window.Reveal.addEventListener(\"slidechanged\", function(event) {\r\n        fireSlideChanged(event.previousSlide, event.currentSlide);\r\n      });\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}