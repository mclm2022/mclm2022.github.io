{
  "hash": "de2ccf648a39db3ca367f56a8754cbf6",
  "result": {
    "markdown": "---\ntitle: \"CA applied to the Trump-Clinton speeches\"\nnumber-sections: true\nsubtitle: \"Based on Dirk Speelman's course material\"\n---\n\n\nThis document illustrates how to use *correspondence analysis* (CA) to investigate the similarities between Clinton speeches and Trump speeches in a corpus that collects them. The approach adopts a bird's-eye perspective, looking at the broad picture we get if we aggregate over a wide range of **features** of the speeches.\n\nA major advantage of the technique is that we can both compare the different documents based on the selected features, but also compare the features based on the documents they occur in and also see which features or groups of features are the ones that account for the most important dissimilarities between the documents.\n\nWe will illustrate four analyses with only minimal differences between each other. In all of them, the workflow consists of collecting frequency lists from each of the files in our corpus and creating a matrix with one row per document and one column per type that occurs in the corpus. The cells contain the occurrence frequency: a cell $ij$ will contain the occurrence of type $j$ in the document $i$. Such **matrix of counts** will be given to `ca::ca()`, a function that runs correspondence analysis and returns, among other things, the coordinates of row items and of column items in the principal components as well as the variance covered by each dimension. @sec-code will show the full code to obtain the data and plot it before delving into the actual case studies.\n\nThe difference between the analyses is the definition of the types collected in the frequency lists. @sec-function will select only function words from a predefined list as features, since they have been shown to reliably discriminate between different authors and registers. @sec-content, on the other hand, will rely on high frequency content words by first excluding the types in a stoplist and then only keeping the top 150 items. Finally, @sec-bigrams and @sec-trigrams will use bigrams and trigrams as types, respectively. @sec-custom will round up showing how to condense the code of all studies in one shorter script.\n\n# Setup\n\n\n\n\n\nFor these studies we will need the following R packages: `{tidyverse}`, `{mclm}`, `{here}` and for nice tables when reporting, `{kableExtra}`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(mclm)\nlibrary(here)\nlibrary(kableExtra)\n```\n:::\n\n\n::: callout-note\nWhile we conduct correspondence analysis with `ca::ca()`, we don't need to attach the `{ca}` package separately, since it's already loaded with `{mclm}`.\n:::\n\n## Collect the corpus filenames\n\nFirst, we collect the names of the corpus files and store them in an object called `fnames`. From this we also derive the short filenames (stored in `short_fnames`) and a character vector with, for each filename, the subcorpus (stored in `sub_corp`). The first variable, `short_fnames`, is also an `fnames` object and will provide more practical names for plotting. The second variable, `sub_corp`, is a character string and will help us assign colors in the plots based on whether the documents correspond to Clinton or Trump speeches. @tbl-fnames illustrates a few of these values.\n\n::: callout-warning\nDon't forget to adapt the `corpus_folder` variable with the path to your copy of the corpus!\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorpus_folder <- here(\"studies\", \"_corpora\", \"clinton_trump\")\nfnames <- get_fnames(corpus_folder)\nshort_fnames <- short_names(fnames)\nsub_corp <- fnames %>%\n  re_retrieve_first(\"/clinton_trump/([^/]+)\", requested_group = 1)\n```\n:::\n\n::: {#tbl-fnames .cell tbl-cap='Five random filenames and their corresponding values in `short_fnames` and `sub_corp`.'}\n\n```{.r .cell-code  code-fold=\"true\"}\nset.seed(8541)\ntibble(\n  fnames = gsub(corpus_folder, \"\", fnames),\n  short_fnames = short_fnames, sub_corp = sub_corp\n) %>%\n  group_by(sub_corp) %>% \n  slice_sample(n = 6) %>%\n  kbl() %>% \n  kable_paper()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> fnames </th>\n   <th style=\"text-align:left;\"> short_fnames </th>\n   <th style=\"text-align:left;\"> sub_corp </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> /Clinton/Clinton_2016-11-09.txt </td>\n   <td style=\"text-align:left;\"> Clinton_2016-11-09 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Clinton/Clinton_2016-09-29.txt </td>\n   <td style=\"text-align:left;\"> Clinton_2016-09-29 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Clinton/Clinton_2016-11-06-B.txt </td>\n   <td style=\"text-align:left;\"> Clinton_2016-11-06-B </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Clinton/Clinton_2016-08-31.txt </td>\n   <td style=\"text-align:left;\"> Clinton_2016-08-31 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Clinton/Clinton_2016-09-30.txt </td>\n   <td style=\"text-align:left;\"> Clinton_2016-09-30 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Clinton/Clinton_2016-10-03.txt </td>\n   <td style=\"text-align:left;\"> Clinton_2016-10-03 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Trump/Trump_2016-09-13-B.txt </td>\n   <td style=\"text-align:left;\"> Trump_2016-09-13-B </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Trump/Trump_2016-08-19.txt </td>\n   <td style=\"text-align:left;\"> Trump_2016-08-19 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Trump/Trump_2016-09-13.txt </td>\n   <td style=\"text-align:left;\"> Trump_2016-09-13 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Trump/Trump_2016-10-18.txt </td>\n   <td style=\"text-align:left;\"> Trump_2016-10-18 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Trump/Trump_2016-10-11.txt </td>\n   <td style=\"text-align:left;\"> Trump_2016-10-11 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> /Trump/Trump_2016-10-12.txt </td>\n   <td style=\"text-align:left;\"> Trump_2016-10-12 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## General code {#sec-code}\n\nThe code below will be implemented in each of the case studies below with the only difference in the `freqlist()` call in line 2 and the actual value of `features` (in lines 2 and 5).\n\n::: aside\nIn practice, if you were to run an analysis where this much code will be used over and over again with multiple modifications, it would be preferable to wrap it in custom functions. @sec-custom will show you how, if you're interested.\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"true\"}\nd <- map(setNames(fnames, short_fnames), function(fname) {\n    freqlist(fname, ...)[features]\n  }) %>%\n  bind_cols() %>% \n  data.frame(row.names = features) %>% \n  as.matrix() %>% \n  t() %>% \n  drop_empty_rc()\n\nd_ca <- ca(d)\n\ntexts_df <- row_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"text\") %>% \n  mutate(Subcorpus = sub_corp)\n\nwords_df <- col_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"word\")\n\ndim_1 <- sprintf(\"Dimension 1 (%.2f %%)\", summary(d_ca)$scree[1,3])\ndim_2 <- sprintf(\"Dimension 2 (%.2f %%)\", summary(d_ca)$scree[2,3])\n\nggplot(words_df, aes(x = V1, y = V2)) +\n  geom_text(aes(label = word), color = \"gray60\") +\n  geom_point(data = texts_df, aes(color = Subcorpus)) +\n  scale_color_manual(values = c(\"#0000CD\",\"#DC143C\")) +\n  geom_hline(yintercept = 0, color = \"darkgray\") +\n  geom_vline(xintercept = 0, color = \"darkgray\") +\n  theme_bw(base_size = 12) +\n  labs(x = dim_1, y = dim_2) +\n  coord_fixed()\n```\n:::\n\n\nThe first part of the code builds the matrix that we will apply the correspondence analysis to. This is an object of the data type `matrix` with as its rows the files and as its columns the features, and in the cells the absolute frequencies of the features in the files.\n\nThe code in lines 1-3 uses the `map()` function from the `{purrr}` package to apply the same process to each file in the corpus, returning a comparable output. This output is a frequency list computed with `freqlist()` and then adjusted to return values for all and only the elements in the `features` vector, which will be different in each study. The output of `map()` is a list, and we will combine its elements into a tibble with one column per file by means of `bind_cols()` in line 4. Because we *named* the files with the short names in line 1, via the `setNames()` call, the column names are the elements in `short_fnames`. Line 5 turns the tibble into a dataframe so we can define `features` as the row names.\n\nLines 6-8 turn this dataframe into a matrix, transpose it (so that the features become the columns and the files, the rows) and drop the rows and columns with only zero frequencies.\n\nIn line 10, we run correspondence analysis on this matrix, which we store in the variable `d_ca`. We could then inspect it by calling `d_ca` or `summary(d_ca)`.\n\nThen, lines 12-17 extract the coordinates of the rows and columns for plotting and create tibbles with the labels, positions and, in the case of the rows, the color coding based on the subcorpora. `mclm::row_pcoord()` and `mclm::col_pcoord()` extract the coordinates of the rows and columns from the object `d_ca`; we are only interested in the first two columns, which are the coordinates of the two first principal components, therefore we add `[,c(1,2)]`. We then turn the matrix into a tibble assigning the column names \"text\" and \"word\" to the row names of the matrices. In the case of the documents, we also add the color coding column by creating a column \"Subcorpus\" and filling it with the vector `sub_corp`.\n\nLines 19 and 20 use the variance information from `summary(d_ca)` to enrich the labels of the axes in the plot.\nThe rest of the lines create a biplot.\n\n::: {.callout-note collapse=\"true\"}\n### Parsing the `ggplot()` call\n\nWhat does each line from 22 to 30 do in the code chunk above?\n\n-   Line 22 calls `ggplot()` with the dataframe of features (the columns in our matrix) as dataset, assigning the variables \"V1\" and \"V2\" to the `x` and `y` coordiantes respectively. These are the automatic names given by `as_tibble()` in line 17 when we converted a matrix without column names^[The original matrix `d` and `d_ca` do have column names, but the matrices of coordinates returned by `row_pcoord()` and `col_pcoord()` don't.].\n\n-   Line 23 plots the items of the variable \"word\" (the types of our features) as text, in the color \"gray60\".\n\n-   Line 24 plots the items of the dataframe of documents (the rows of the original matrix) as dots. The call inherits the `x` and `y` mappings from the `ggplot()` call, so that \"V1\" and \"V2\" will automatically be mapped into the axes. In addition, we map \"Subcorpus\" to the color aesthetics.\n\n-   Line 25 defines manually the colors to map to the \"Subcorpus\" variable. We could also use a variety of palettes, different colors, or remove the line and use the default color scheme of `{ggplot2}`.\n\n-   Lines 26 and 27 add a horizontal and vertical line respectively, the former where $y = 0$ and the latter where $x = 0$, both in dark gray.\n\n-   Line 28 sets the theme and the base size for the font. If you create multiple plots, you can set this for all your plots with `theme_set()`.\n\n-   Line 29 assigns the variables `dim_1` and `dim_2`, defined in lines 19 and 20, as the labels of the `x` and `y` axes.\n\n-   Line 30 indicates that the units of both axes should be the same, which is not the default case for `{ggplot2}` plots. The numbers themselves of the coordinates are not meaningful, but the distances between the points are, and they assume that the distance between the point in $(0,1)$ (where $x = 0$ and $y = 1$) and the centroid $(0, 0)$ is the same as the distance between the point $(1,0)$ and the centroid $(0,0)$. `coord_fixed()` makes sure that's the case.\n:::\n\n# Function words as features {#sec-function}\n\nIn a first approach, we use so-called *function words* as features.[Function words include closed word classes such as pronouns, prepositions, auxiliaries, etc., as opposed to so-called *content words* such as nouns, verbs, adjectives...]{.aside} In the field of *stylometry*, which is devoted to the quantitative study of linguistics style (e.g. in support of authorship attribution), it has long been established that function words are a powerful instrument in support of the identification of typical or even unique characteristics of the style of a specific author (or group of authors).\n\n::: callout-note\nZooming in on function words steers the analysis away from differences related to topic/content and foregrounds differences related to style. Other alternatives are:\n\ni) Zooming in on longer n-grams, e.g. 3-grams, 4-grams.\n\ni) If the information is available, looking at the frequencies of POS tags or POS tag n-grams.\n\ni) Looking at derived features such as lexical density, word length, sentence length, etc.\n:::\n\n## Specifying the features\n\nWe start by reading the names of the features for this analysis from the file [function-words.txt](https://raw.githubusercontent.com/mclm2022/mclm2022.github.io/main/studies/assets/ca-trump-clinton/function-words.txt) and storing then into an object called `features`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfeatures <- read_types(here(\"studies\", \"assets\", \"ca-trump-clinton\", \"function-words.txt\"))\nprint(features, n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nType collection of length 149\n      type\n   -------\n 1   about\n 2  across\n 3 against\n 4   along\n 5  around\n 6      at\n 7  behind\n 8  beside\n 9 besides\n10      by\n...\n```\n:::\n:::\n\n\nAs shown when printing it, the object `features` contains 149 function words.^[You can also obtain the number of types in an object of class `types` (such as `features`), with `n_types()`.]\n\n## Building the file-by-feature matrix\n\nOnce we have collected our features we can create the matrix with one row per document and one column per feature.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd <- map(setNames(fnames, short_fnames), function(fname) {\n    freqlist(fname)[features]\n  }) %>%\n  bind_cols() %>% \n  data.frame(row.names = features) %>% \n  as.matrix() %>% \n  t() %>% \n  drop_empty_rc()\n```\n:::\n\n\nThe top-left part of the resulting matrix (first ten rows, first ten columns) is shown in @tbl-mtx. Each row is a speech, each column is a function word, and the values are the absolute frequencies of a given function word in a igven document.\n\n\n::: {#tbl-mtx .cell tbl-cap='First rows and columns of a document-by-feature matrix where the rows are Clinton and Trump speeches and the columns are function words.'}\n\n```{.r .cell-code  code-fold=\"true\"}\nkbl(d[1:10, 1:10]) %>% kable_paper()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> about </th>\n   <th style=\"text-align:right;\"> across </th>\n   <th style=\"text-align:right;\"> against </th>\n   <th style=\"text-align:right;\"> along </th>\n   <th style=\"text-align:right;\"> around </th>\n   <th style=\"text-align:right;\"> at </th>\n   <th style=\"text-align:right;\"> behind </th>\n   <th style=\"text-align:right;\"> besides </th>\n   <th style=\"text-align:right;\"> by </th>\n   <th style=\"text-align:right;\"> despite </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.07.28 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.07.29 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.01 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.05 </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 30 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.10 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.11 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.15 </td>\n   <td style=\"text-align:right;\"> 41 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 30 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.16 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.17 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 19 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.25 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n## Running correspondence analysis\n\nThen we run the actual correspondence analysis and store the result in an object called `d_ca`. For reasons of brevity, we will skip the inspection of the summary report of the analysis, which we would normally do with `summary(d_ca)`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd_ca <- ca(d)\n# summary(d_ca)\n```\n:::\n\n\n## Biplot\n\nNext, we build the biplot, with color indicating the subcorpus that each file belongs to. First, we prepare the data needed for the plot. If you wanted to inspect the full output of `row_pcoord()` or `col_pcoord()`, you can run them separately first (e.g. `row_pcoord(d_ca) %>% View()`).\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntexts_df <- row_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"text\") %>% \n  mutate(Subcorpus = sub_corp)\nwords_df <- col_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"word\")\n```\n:::\n\n\n@tbl-func shows a random sample from `texts_df` and `words_df`, i.e. the rows and columns of the dataset with their principal component coordinates and the corpus they correspond to. The columns \"V1\" and \"V2\" contain the positions in the first and second dimension respectively. In @tbl-func-1 we can already see that Clinton documents tend to be in the bottom half of the plot (\"V2\" is negative), whereas Trump documents tend to be in the top half (\"V2\" is positive).\n\n\n::: {#tbl-func .cell layout-ncol=\"2\" tbl-cap='Subset of speeches and function words with principal components.' tbl-subcap='[\"Texts\",\"Features\"]'}\n\n```{.r .cell-code  code-fold=\"true\"}\nset.seed(2022)\ntexts_df %>% group_by(Subcorpus) %>% \n  slice_sample(n = 5) %>% kbl() %>% \n  kable_paper(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> text </th>\n   <th style=\"text-align:right;\"> V1 </th>\n   <th style=\"text-align:right;\"> V2 </th>\n   <th style=\"text-align:left;\"> Subcorpus </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.11.09 </td>\n   <td style=\"text-align:right;\"> 0.0472921 </td>\n   <td style=\"text-align:right;\"> -0.1750603 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.09.06 </td>\n   <td style=\"text-align:right;\"> -0.0619775 </td>\n   <td style=\"text-align:right;\"> -0.1397667 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.31 </td>\n   <td style=\"text-align:right;\"> 0.0980152 </td>\n   <td style=\"text-align:right;\"> -0.2038008 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.05 </td>\n   <td style=\"text-align:right;\"> -0.1063086 </td>\n   <td style=\"text-align:right;\"> -0.1732206 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.11 </td>\n   <td style=\"text-align:right;\"> -0.0171809 </td>\n   <td style=\"text-align:right;\"> -0.2379479 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.10.31 </td>\n   <td style=\"text-align:right;\"> 0.1000379 </td>\n   <td style=\"text-align:right;\"> 0.0894802 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.11.07.B </td>\n   <td style=\"text-align:right;\"> -0.0041106 </td>\n   <td style=\"text-align:right;\"> 0.1529944 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.08.15 </td>\n   <td style=\"text-align:right;\"> 0.3388391 </td>\n   <td style=\"text-align:right;\"> -0.1418274 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.08.02 </td>\n   <td style=\"text-align:right;\"> -0.1862853 </td>\n   <td style=\"text-align:right;\"> 0.1850968 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.10.14.B </td>\n   <td style=\"text-align:right;\"> -0.0731448 </td>\n   <td style=\"text-align:right;\"> 0.1318714 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\nwords_df %>%\n  slice_sample(n = 10) %>% kbl() %>% \n  kable_paper(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> word </th>\n   <th style=\"text-align:right;\"> V1 </th>\n   <th style=\"text-align:right;\"> V2 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> while </td>\n   <td style=\"text-align:right;\"> 0.1871077 </td>\n   <td style=\"text-align:right;\"> 0.0183116 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> about </td>\n   <td style=\"text-align:right;\"> -0.1634588 </td>\n   <td style=\"text-align:right;\"> -0.1360846 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> they </td>\n   <td style=\"text-align:right;\"> -0.1100616 </td>\n   <td style=\"text-align:right;\"> 0.3573612 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> he </td>\n   <td style=\"text-align:right;\"> -0.4679407 </td>\n   <td style=\"text-align:right;\"> -0.3371612 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> after </td>\n   <td style=\"text-align:right;\"> 0.2224265 </td>\n   <td style=\"text-align:right;\"> -0.1108768 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> might </td>\n   <td style=\"text-align:right;\"> -0.3473552 </td>\n   <td style=\"text-align:right;\"> -0.2371209 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> what </td>\n   <td style=\"text-align:right;\"> -0.1722558 </td>\n   <td style=\"text-align:right;\"> -0.0841692 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> during </td>\n   <td style=\"text-align:right;\"> -0.0927357 </td>\n   <td style=\"text-align:right;\"> 0.1178028 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> themselves </td>\n   <td style=\"text-align:right;\"> -0.0473160 </td>\n   <td style=\"text-align:right;\"> -0.3076619 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> therefore </td>\n   <td style=\"text-align:right;\"> -0.5136063 </td>\n   <td style=\"text-align:right;\"> -0.2700845 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\nThe plot is shown in @fig-func. We can see that 16.61% of the variation is covered by the first dimension and 12.99% by the second dimension. In addition, both subcorpora form very clear clusters, mostly divided by the second dimension: features higher on the y-axis are more characteristic of Trump's speeches, and those lower on the y-axis are more characteristic of Clinton's, as we could already see from @tbl-func-1.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndim_1 <- sprintf(\"Dimension 1 (%.2f%%)\", summary(d_ca)$scree[1,3])\ndim_2 <- sprintf(\"Dimension 2 (%.2f%%)\", summary(d_ca)$scree[2,3])\n\nggplot(words_df, aes(x = V1, y = V2)) +\n  geom_text(aes(label = word), color = \"gray60\") +\n  geom_point(data = texts_df, aes(color = Subcorpus)) +\n  scale_color_manual(values = c(\"#0000CD\",\"#DC143C\")) +\n  geom_hline(yintercept = 0, color = \"darkgray\") +\n  geom_vline(xintercept = 0, color = \"darkgray\") +\n  theme_bw(base_size = 12) +\n  labs(x = dim_1, y = dim_2) +\n  coord_fixed()\n```\n\n::: {.cell-output-display}\n![Biplot of correspondence analysis of Clinton and Trump speeches based on function words.](ca-trump-clinton_files/figure-html/fig-func-1.png){#fig-func fig-alt='Biplot of correspondence analysis of Clinton and Trump speeches based on function words. The dots corresponding to Clinton, in blue, form a group on top of the group of Trump speeches, in red. The features are plotted as text in gray and are all over the place. The axes read \"Dimension 1 (16.61%)\" and \"Dimension 2 (12.99%)\".' width=672}\n:::\n:::\n\n\n## Typical Clinton features vs. typical Trump features\n\nSince the dimension that sets apart the Clinton speeches (top) most clearly from the Trump speeches (bottom) is the second dimension (y-axis), we may want to inspect the features that occupy extreme positions on the y-axis (and that hence contribute importantly to the y-axis).\n\nThe code below sorts the dataframe with features information based on their coordinates in the second dimension (\"V2\", i.e. the vertical axis) and extracts the first 20 elements. `clinton_words` and `trump_words` are thus vectors with the 20 words most characteristic of Clinton's and Trump's speeches respectively.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrump_words <- words_df %>%\n  arrange(desc(V2)) %>%\n  head(20) %>% pull(word)\nclinton_words <- words_df %>%\n  arrange(V2) %>%\n  head(20) %>% pull(word)\n```\n:::\n\n\nThe markdown text below adds asterisks to each word to print them in italics and brings them together in an enumeration with the help of `glue::glue_collapse()`, resulting in the text right below it.\n\n```md\nThe words most characteristic of Clinton's speeches are\n`r glue::glue_collapse(paste0(\"*\", clinton_words, \"*\"), sep = \", \", last = \" and \")`.\nThose most characteristic of Trump's speeches, instead, are\n`r glue::glue_collapse(paste0(\"*\", trump_words, \"*\"), sep = \", \", last = \" and \")`.\n```\n\n> The words most characteristic of Clinton's speeches are *someone*, *himself*, *toward*, *each*, *shall*, *everyone*, *ourselves*, *ours*, *his*, *anyone*, *often*, *several*, *own*, *across*, *both*, *sometimes*, *whose*, *may*, *should* and *my*. Those most characteristic of Trump's speeches, instead, are *anyway*, *little*, *mine*, *they*, *over*, *twice*, *myself*, *second*, *anything*, *though*, *otherwise*, *onto*, *along*, *never*, *such*, *them*, *her*, *two*, *but* and *ones*.\n\n# High frequency content words as features {#sec-content}\n\nIn a second approach, we look at *content words* instead. Obviously, then, topic will start playing an important role (although some stylistic differences may still be present in the patterns that emerge). The nature of this analysis is very different to the one shown in @sec-function, and it serves different purposes. Even so, it is a legitimate question whether the Clinton speeches and the Trump speeches turn out to be as clearly separated as in the previous analysis from the perspective of content words. Moreover, we can inspect which (groups of) content words will emerge as the ones that are most characteristic of the different areas in the resulting map.\n\n## Specifying the features\n\nFrom a technical perspective, the only difference with the case study in @sec-function is how we define the features. This time, we build a complete frequency list of the whole corpus, we then remove a number of [stop words](https://raw.githubusercontent.com/mclm2022/mclm2022.github.io/main/studies/assets/ca-trump-clinton/stop_list.txt) (mostly function words, but also some undesired types such as `000` and `--`), and finally we treat the top 150 (i.e. the 150 highest frequency items) of the remaining items as our features. The number 150 is an arbitrary choice but it makes this study more comparable to the one in @sec-function.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstop_list <- read_types(here(\"studies\", \"assets\", \"ca-trump-clinton\", \"stop_list.txt\"))\nprint(stop_list, n = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nType collection of length 154\n     type\n  -------\n1     000\n2   about\n3  across\n4 against\n5   along\n...\n```\n:::\n\n```{.r .cell-code}\nfeatures <- freqlist(fnames) %>%\n  drop_types(stop_list) %>%\n  keep_pos(1:150) %>%\n  as_types() %>%\n  print(n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nType collection of length 150\n        type\n   ---------\n 1     again\n 2       ago\n 3      also\n 4   america\n 5  american\n 6 americans\n 7  applause\n 8       are\n 9  audience\n10      back\n...\n```\n:::\n:::\n\n\n## Next steps and plot\n\nThe next steps, all the way up to the creation of the plot, are completely analogous to the previous analysis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd <- map(setNames(fnames, short_fnames), function(fname) {\n    freqlist(fname)[features]\n  }) %>%\n  bind_cols() %>% \n  data.frame(row.names = features) %>% \n  as.matrix() %>% \n  t() %>% \n  drop_empty_rc()\n\nd_ca <- ca(d)\n\ntexts_df <- row_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"text\") %>% \n  mutate(Subcorpus = sub_corp)\n\nwords_df <- col_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"word\")\n```\n:::\n\n\n@tbl-content shows again a random subset of documents with their new coordinates, as well as a random subset of features ---this time content words--- and their coordinates. @fig-content shows the biplot.\n\n\n::: {#tbl-content .cell layout-ncol=\"2\" tbl-cap='Subset of speeches and content words with principal components.' tbl-subcap='[\"Texts\",\"Features\"]'}\n\n```{.r .cell-code  code-fold=\"true\"}\nset.seed(2022)\ntexts_df %>% group_by(Subcorpus) %>% \n  slice_sample(n = 5) %>% kbl() %>% \n  kable_paper(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> text </th>\n   <th style=\"text-align:right;\"> V1 </th>\n   <th style=\"text-align:right;\"> V2 </th>\n   <th style=\"text-align:left;\"> Subcorpus </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.11.09 </td>\n   <td style=\"text-align:right;\"> -0.4261368 </td>\n   <td style=\"text-align:right;\"> 0.0843955 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.09.06 </td>\n   <td style=\"text-align:right;\"> -0.2692764 </td>\n   <td style=\"text-align:right;\"> 0.1529539 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.31 </td>\n   <td style=\"text-align:right;\"> -0.4620391 </td>\n   <td style=\"text-align:right;\"> 0.0589428 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.05 </td>\n   <td style=\"text-align:right;\"> -0.2577882 </td>\n   <td style=\"text-align:right;\"> 0.3072020 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.11 </td>\n   <td style=\"text-align:right;\"> -0.4792801 </td>\n   <td style=\"text-align:right;\"> 0.0970303 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.10.31 </td>\n   <td style=\"text-align:right;\"> 0.0593353 </td>\n   <td style=\"text-align:right;\"> -0.1727285 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.11.07.B </td>\n   <td style=\"text-align:right;\"> 0.1602217 </td>\n   <td style=\"text-align:right;\"> -0.1026059 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.08.15 </td>\n   <td style=\"text-align:right;\"> -0.2888413 </td>\n   <td style=\"text-align:right;\"> -0.0287607 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.08.02 </td>\n   <td style=\"text-align:right;\"> 0.3474765 </td>\n   <td style=\"text-align:right;\"> 0.1105980 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.10.14.B </td>\n   <td style=\"text-align:right;\"> 0.1594495 </td>\n   <td style=\"text-align:right;\"> -0.0278322 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\nwords_df %>%\n  slice_sample(n = 10) %>% kbl() %>% \n  kable_paper(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> word </th>\n   <th style=\"text-align:right;\"> V1 </th>\n   <th style=\"text-align:right;\"> V2 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> talk </td>\n   <td style=\"text-align:right;\"> -0.0728850 </td>\n   <td style=\"text-align:right;\"> 0.2705457 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> again </td>\n   <td style=\"text-align:right;\"> -0.0107773 </td>\n   <td style=\"text-align:right;\"> -0.3857531 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> great </td>\n   <td style=\"text-align:right;\"> 0.1749042 </td>\n   <td style=\"text-align:right;\"> -0.0561112 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> doesn't </td>\n   <td style=\"text-align:right;\"> -0.0225670 </td>\n   <td style=\"text-align:right;\"> 0.1318185 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> put </td>\n   <td style=\"text-align:right;\"> -0.0909718 </td>\n   <td style=\"text-align:right;\"> -0.0302617 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> think </td>\n   <td style=\"text-align:right;\"> 0.0991768 </td>\n   <td style=\"text-align:right;\"> 0.3251066 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> say </td>\n   <td style=\"text-align:right;\"> 0.1411930 </td>\n   <td style=\"text-align:right;\"> 0.1319127 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> been </td>\n   <td style=\"text-align:right;\"> 0.0034804 </td>\n   <td style=\"text-align:right;\"> -0.0325135 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> i've </td>\n   <td style=\"text-align:right;\"> -0.0535805 </td>\n   <td style=\"text-align:right;\"> 0.3076036 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> win </td>\n   <td style=\"text-align:right;\"> 0.2972385 </td>\n   <td style=\"text-align:right;\"> -0.2643769 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim_1 <- sprintf(\"Dimension 1 (%.2f %%)\", summary(d_ca)$scree[1,3])\ndim_2 <- sprintf(\"Dimension 2 (%.2f %%)\", summary(d_ca)$scree[2,3])\n\nggplot(words_df, aes(x = V1, y = V2)) +\n  geom_text(aes(label = word), color = \"gray60\") +\n  geom_point(data = texts_df, aes(color = Subcorpus)) +\n  scale_color_manual(values = c(\"#0000CD\",\"#DC143C\")) +\n  geom_hline(yintercept = 0, color = \"darkgray\") +\n  geom_vline(xintercept = 0, color = \"darkgray\") +\n  theme_bw(base_size = 12) +\n  labs(x = dim_1, y = dim_2) +\n  coord_fixed()\n```\n\n::: {.cell-output-display}\n![Biplot of correspondence analysis of Clinton and Trump speeches based on content words.](ca-trump-clinton_files/figure-html/fig-content-1.png){#fig-content fig-alt='Biplot of correspondence analysis of Clinton and Trump speeches based on content words. The dots corresponding to Clinton, in blue, form a tight group on the top left quadrant, whereas the red dots representing Trump speeches spread across the bottom right quadrant, spilling to the top and left. The features are plotted as text in gray and are all over the place. The axes read \"Dimension 1 (14.09%)\" and \"Dimension 2 (10.69%)\".' width=672}\n:::\n:::\n\n\nWe can see that 14.09% of the variation is covered by the first dimension and 10.69% by the second dimension. This time it is the combination of the two dimensions that sets apart the two groups of speeches. This makes it a bit more difficult to select the items on the basis of their coordinates. One approach is to select quadrants or regions, either to zoom in on the plot (@fig-zoom) or to obtain a selection of words.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(words_df, aes(x = V1, y = V2)) +\n  geom_text(aes(label = word), color = \"gray60\") +\n  geom_point(data = texts_df, aes(color = Subcorpus)) +\n  scale_color_manual(values = c(\"#0000CD\",\"#DC143C\")) +\n  geom_hline(yintercept = 0, color = \"darkgray\") +\n  geom_vline(xintercept = 0, color = \"darkgray\") +\n  theme_bw(base_size = 12) +\n  labs(x = dim_1, y = dim_2) +\n  coord_fixed(xlim = c(0, 0.5), ylim = c(-0.5, 0))\n```\n\n::: {.cell-output-display}\n![Biplot of correspondence analysis of Clinton and Trump speeches based on content words, zoomed in for the bottom right quadrant.](ca-trump-clinton_files/figure-html/fig-zoom-1.png){#fig-zoom fig-alt='Biplot of correspondence analysis of Clinton and Trump speeches based on content words, zoomed in for the bottom right quadrant. Content words are seen in gray and some Trump speeches are represented as red dots.' width=672}\n:::\n:::\n\n\nWe can also compute the euclidean distance from each point to the center of the plot to identify the items that are farthest from it (the `dist_to_center` variable). The code below selects all words in the bottom right quadrant (even beyond the zoomed-in region in @fig-zoom) and order thems by distance to the center; the markdown text below it lists some of them, resulting in the block text underneath.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbottom_right <- words_df %>%\n  filter(V1 >= 0 & V2 <= 0) %>% \n  mutate(dist_to_center = sqrt(V1^2 + V2^2)) %>% \n  arrange(desc(dist_to_center)) %>% \n  pull(word)\n```\n:::\n\n\n```md\nThere are `r length(bottom_right)` words in the bottom right quadrant of @fig-content;\nthe fifteen farthest from the center of the plot are\n`r glue::glue_collapse(paste0(\"*\", head(bottom_right, 15), \"*\"), sep = \", \", last = \" and \")`.\n```\n\n> There are 42 words in the bottom right quadrant of @fig-content; the fifteen farthest from the center of the plot are *booing*, *mexico*, *they're*, *wall*, *trade*, *bad*, *percent*, *gonna*, *folks*, *win*, *she's*, *stop*, *what's*, *money* and *four*.\n\n# High frequency bigrams as features {#sec-bigrams}\n\nIn our third approach, we work with the 150 most frequent bigrams. In the code snippet below we use the argument `ngram_size = 2` to make sure that `freqlist()` builds a frequency list of bigrams instead of single word forms. In addition, prior to identifying the top 150, we remove all bigrams with either `applause`, `cheering`, or `--` in them. We do this because in this corpus those items are (almost always) part of the annotation instead of real tokens.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfeatures <- fnames %>%\n  freqlist(ngram_size = 2) %>%\n  drop_re(\"(applause|cheering|--)\") %>%\n  keep_bool(ranks(.) <= 150) %>% # or keep_pos(1:150)\n  as_types() %>%\n  print(n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nType collection of length 150\n       type\n   --------\n 1  a_great\n 2    a_lot\n 3   a_very\n 4 about_it\n 5   all_of\n 6  all_the\n 7   and_he\n 8    and_i\n 9   and_it\n10 and_it's\n...\n```\n:::\n:::\n\n\nThe rest of the steps again are identical to the previous analyses, except that when we build frequency lists for each file, we must make sure that here too we build a frequency list of bigrams.\n\n::: callout-tip\nThe step `drop_re(\"(applause|cheering|--)\")` is not necessary when collecting those frequency lists, as the elements are already filtered via `[features]`.\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nd <- map(setNames(fnames, short_fnames), function(fname) {\n    freqlist(fname, ngram_size = 2)[features]\n  }) %>%\n  bind_cols() %>% \n  data.frame(row.names = features) %>% \n  as.matrix() %>% \n  t() %>% \n  drop_empty_rc()\n\nd_ca <- ca(d)\n\ntexts_df <- row_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"text\") %>% \n  mutate(Subcorpus = sub_corp)\n\nwords_df <- col_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"word\")\n```\n:::\n\n\n@tbl-bg shows again a random subset of documents with their new coordinates, as well as a random subset of features ---this time bigrams--- and their coordinates. @fig-bg shows the biplot.\n\n\n::: {#tbl-bg .cell layout-ncol=\"2\" tbl-cap='Subset of speeches and bigrams with principal components.' tbl-subcap='[\"Texts\",\"Bigrams\"]'}\n\n```{.r .cell-code  code-fold=\"true\"}\nset.seed(2022)\ntexts_df %>% group_by(Subcorpus) %>% \n  slice_sample(n = 5) %>% kbl() %>% \n  kable_paper(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> text </th>\n   <th style=\"text-align:right;\"> V1 </th>\n   <th style=\"text-align:right;\"> V2 </th>\n   <th style=\"text-align:left;\"> Subcorpus </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.11.09 </td>\n   <td style=\"text-align:right;\"> -0.3062404 </td>\n   <td style=\"text-align:right;\"> 0.5275794 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.09.06 </td>\n   <td style=\"text-align:right;\"> -0.4765587 </td>\n   <td style=\"text-align:right;\"> 0.0324082 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.31 </td>\n   <td style=\"text-align:right;\"> -0.4060061 </td>\n   <td style=\"text-align:right;\"> 0.4555704 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.05 </td>\n   <td style=\"text-align:right;\"> -0.4342003 </td>\n   <td style=\"text-align:right;\"> 0.1015003 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.11 </td>\n   <td style=\"text-align:right;\"> -0.4210594 </td>\n   <td style=\"text-align:right;\"> 0.3193115 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.10.31 </td>\n   <td style=\"text-align:right;\"> 0.1165751 </td>\n   <td style=\"text-align:right;\"> 0.0660741 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.11.07.B </td>\n   <td style=\"text-align:right;\"> 0.2390049 </td>\n   <td style=\"text-align:right;\"> -0.1108757 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.08.15 </td>\n   <td style=\"text-align:right;\"> 0.1207544 </td>\n   <td style=\"text-align:right;\"> 0.6317010 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.08.02 </td>\n   <td style=\"text-align:right;\"> 0.0011517 </td>\n   <td style=\"text-align:right;\"> -0.3600040 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.10.14.B </td>\n   <td style=\"text-align:right;\"> 0.1264469 </td>\n   <td style=\"text-align:right;\"> -0.2168820 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\nwords_df %>%\n  slice_sample(n = 10) %>% kbl() %>% \n  kable_paper(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> word </th>\n   <th style=\"text-align:right;\"> V1 </th>\n   <th style=\"text-align:right;\"> V2 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> think_of </td>\n   <td style=\"text-align:right;\"> 0.2827760 </td>\n   <td style=\"text-align:right;\"> -0.2387252 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> a_great </td>\n   <td style=\"text-align:right;\"> 0.1940866 </td>\n   <td style=\"text-align:right;\"> -0.1546208 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> i_want </td>\n   <td style=\"text-align:right;\"> -0.7886084 </td>\n   <td style=\"text-align:right;\"> 0.1443159 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> for_the </td>\n   <td style=\"text-align:right;\"> 0.1143942 </td>\n   <td style=\"text-align:right;\"> 0.3411274 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> the_american </td>\n   <td style=\"text-align:right;\"> 0.0132712 </td>\n   <td style=\"text-align:right;\"> 0.5484510 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> to_make </td>\n   <td style=\"text-align:right;\"> -0.3157716 </td>\n   <td style=\"text-align:right;\"> 0.0683634 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> the_same </td>\n   <td style=\"text-align:right;\"> -0.0302904 </td>\n   <td style=\"text-align:right;\"> 0.3890896 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> and_the </td>\n   <td style=\"text-align:right;\"> -0.0960387 </td>\n   <td style=\"text-align:right;\"> 0.2063551 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> in_this </td>\n   <td style=\"text-align:right;\"> -0.1470086 </td>\n   <td style=\"text-align:right;\"> 0.3218153 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> with_the </td>\n   <td style=\"text-align:right;\"> 0.1392118 </td>\n   <td style=\"text-align:right;\"> 0.0295794 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim_1 <- sprintf(\"Dimension 1 (%.2f %%)\", summary(d_ca)$scree[1,3])\ndim_2 <- sprintf(\"Dimension 2 (%.2f %%)\", summary(d_ca)$scree[2,3])\n\nggplot(words_df, aes(x = V1, y = V2)) +\n  geom_text(aes(label = word), color = \"gray60\") +\n  geom_point(data = texts_df, aes(color = Subcorpus)) +\n  scale_color_manual(values = c(\"#0000CD\",\"#DC143C\")) +\n  geom_hline(yintercept = 0, color = \"darkgray\") +\n  geom_vline(xintercept = 0, color = \"darkgray\") +\n  theme_bw(base_size = 12) +\n  labs(x = dim_1, y = dim_2) +\n  coord_fixed()\n```\n\n::: {.cell-output-display}\n![Biplot of correspondence analysis of Clinton and Trump speeches based on frequent bigrams.](ca-trump-clinton_files/figure-html/fig-bg-1.png){#fig-bg fig-alt='Biplot of correspondence analysis of Clinton and Trump speeches based on the most frequent bigrams. The blue dots, corresponding to Clinton, tend towards the left and the red ones, corresponding to Trump, to the right. The latter are also surrounded by many more bigrams, represented as gray text, than the former. The axes read \"Dimension 1 (14.29%)\" and \"Dimension 2 (12.50%)\".' width=672}\n:::\n:::\n\n\nWe can see that 14.29% of the variation is covered by the first dimension and 12.50% by the second dimension. Moreover, Clinton's speeches are tightly grouped on the left side of the plot whereas Trump's extend over the right side, so the x-axis is now the relevant dimension. The code below sorts the dataframe with features information based on their coordinates in the first dimension (\"V1\", i.e. the horizontal axis) and extracts the first 20 elements. `clinton_bg` and `trump_bg` are thus vectors with the 20 bigrams most characteristic of Clinton's and Trump's speeches respectively.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclinton_bg <- words_df %>%\n  arrange(V1) %>%\n  head(20) %>% pull(word)\ntrump_bg <- words_df %>%\n  arrange(desc(V1)) %>%\n  head(20) %>% pull(word)\n```\n:::\n\n\n```md\nThe bigrams most characteristic of Clinton's speeches are\n`r glue::glue_collapse(paste0(\"*\", clinton_bg, \"*\"), sep = \", \", last = \" and \")`.\nThose most characteristic of Trump's speeches, instead, are\n`r glue::glue_collapse(paste0(\"*\", trump_bg, \"*\"), sep = \", \", last = \" and \")`.\n```\n\n> The bigrams most characteristic of Clinton's speeches are *what_i*, *i_want*, *that_is*, *you_can*, *we_can*, *donald_trump*, *i_am*, *got_to*, *i_know*, *to_work*, *if_you*, *we_need*, *go_to*, *all_the*, *and_that*, *that_we*, *and_he*, *i_was*, *to_say* and *and_i*. Those most characteristic of Trump's speeches, instead, are *trump_trump*, *make_america*, *believe_me*, *to_happen*, *we_will*, *it's_going*, *you're_going*, *to_win*, *are_going*, *you_thank*, *very_much*, *care_of*, *hillary_clinton*, *not_going*, *this_country*, *will_be*, *we_don't*, *think_of*, *these_are* and *do_you*.\n\n# High frequency trigrams as features {#sec-trigrams}\n\nIn our third approach, we work with the 150 most frequent trigrams --- the workflow is the same as in @sec-bigrams, but `ngram_size` must now be set to 3 instead of 2.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfeatures <- fnames %>%\n  freqlist(ngram_size = 3) %>%\n  drop_re(\"(applause|cheering|--)\") %>%\n  keep_bool(ranks(.) <= 150) %>% # or keep_pos(1:150)\n  as_types() %>%\n  print(n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nType collection of length 150\n                     type\n   ----------------------\n 1            a_couple_of\n 2            a_long_time\n 3               a_lot_of\n 4 a_trump_administration\n 5             all_of_the\n 6             all_of_you\n 7           all_over_the\n 8    america_great_again\n 9             and_by_the\n10    and_hillary_clinton\n...\n```\n:::\n\n```{.r .cell-code}\nd <- map(setNames(fnames, short_fnames), function(fname) {\n    freqlist(fname, ngram_size = 3)[features]\n  }) %>%\n  bind_cols() %>% \n  data.frame(row.names = features) %>% \n  as.matrix() %>% \n  t() %>% \n  drop_empty_rc()\n\nd_ca <- ca(d)\n\ntexts_df <- row_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"text\") %>% \n  mutate(Subcorpus = sub_corp)\n\nwords_df <- col_pcoord(d_ca)[,c(1, 2)] %>% \n  as_tibble(rownames = \"word\")\n```\n:::\n\n\n@tbl-tg shows again a random subset of documents with their new coordinates, as well as a random subset of features ---this time trigrams--- and their coordinates. @fig-tg shows the biplot.\n\n\n::: {#tbl-tg .cell layout-ncol=\"2\" tbl-cap='Subset of speeches and trigrams with principal components.' tbl-subcap='[\"Texts\",\"Trigrams\"]'}\n\n```{.r .cell-code  code-fold=\"true\"}\nset.seed(2022)\ntexts_df %>% group_by(Subcorpus) %>% \n  slice_sample(n = 5) %>% kbl() %>% \n  kable_paper(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> text </th>\n   <th style=\"text-align:right;\"> V1 </th>\n   <th style=\"text-align:right;\"> V2 </th>\n   <th style=\"text-align:left;\"> Subcorpus </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.11.09 </td>\n   <td style=\"text-align:right;\"> -0.6095332 </td>\n   <td style=\"text-align:right;\"> 0.7959658 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.09.06 </td>\n   <td style=\"text-align:right;\"> -0.9488437 </td>\n   <td style=\"text-align:right;\"> -0.1244524 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.31 </td>\n   <td style=\"text-align:right;\"> -1.1755695 </td>\n   <td style=\"text-align:right;\"> 0.6056259 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.05 </td>\n   <td style=\"text-align:right;\"> -0.7943022 </td>\n   <td style=\"text-align:right;\"> 0.0043116 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Clinton_2016.08.11 </td>\n   <td style=\"text-align:right;\"> -0.6841211 </td>\n   <td style=\"text-align:right;\"> 0.1809109 </td>\n   <td style=\"text-align:left;\"> Clinton </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.10.31 </td>\n   <td style=\"text-align:right;\"> 0.1647120 </td>\n   <td style=\"text-align:right;\"> 0.1946402 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.11.07.B </td>\n   <td style=\"text-align:right;\"> 0.2561010 </td>\n   <td style=\"text-align:right;\"> -0.0758231 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.08.15 </td>\n   <td style=\"text-align:right;\"> 0.2837312 </td>\n   <td style=\"text-align:right;\"> 0.8632088 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.08.02 </td>\n   <td style=\"text-align:right;\"> -0.1014379 </td>\n   <td style=\"text-align:right;\"> -0.4964737 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Trump_2016.10.14.B </td>\n   <td style=\"text-align:right;\"> 0.1620511 </td>\n   <td style=\"text-align:right;\"> -0.2630311 </td>\n   <td style=\"text-align:left;\"> Trump </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n```{.r .cell-code  code-fold=\"true\"}\nwords_df %>%\n  slice_sample(n = 10) %>% kbl() %>% \n  kable_paper(full_width = FALSE)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> word </th>\n   <th style=\"text-align:right;\"> V1 </th>\n   <th style=\"text-align:right;\"> V2 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> to_have_a </td>\n   <td style=\"text-align:right;\"> -0.1518327 </td>\n   <td style=\"text-align:right;\"> -0.2802206 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> a_couple_of </td>\n   <td style=\"text-align:right;\"> 0.0244926 </td>\n   <td style=\"text-align:right;\"> -0.6163659 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> hillary_clinton_is </td>\n   <td style=\"text-align:right;\"> 0.4798830 </td>\n   <td style=\"text-align:right;\"> 0.4714349 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> for_our_country </td>\n   <td style=\"text-align:right;\"> -0.1323530 </td>\n   <td style=\"text-align:right;\"> 0.4128090 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> the_history_of </td>\n   <td style=\"text-align:right;\"> 0.3043229 </td>\n   <td style=\"text-align:right;\"> 0.0339088 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> usa_usa_usa </td>\n   <td style=\"text-align:right;\"> 0.6682345 </td>\n   <td style=\"text-align:right;\"> 0.4832611 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> they_want_to </td>\n   <td style=\"text-align:right;\"> 0.0399990 </td>\n   <td style=\"text-align:right;\"> -0.4315310 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> and_i_said </td>\n   <td style=\"text-align:right;\"> 0.0593379 </td>\n   <td style=\"text-align:right;\"> -0.6906045 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> i'm_going_to </td>\n   <td style=\"text-align:right;\"> -0.1174069 </td>\n   <td style=\"text-align:right;\"> -0.0887996 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> you_know_i </td>\n   <td style=\"text-align:right;\"> -0.6027103 </td>\n   <td style=\"text-align:right;\"> -0.4392379 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim_1 <- sprintf(\"Dimension 1 (%.2f %%)\", summary(d_ca)$scree[1,3])\ndim_2 <- sprintf(\"Dimension 2 (%.2f %%)\", summary(d_ca)$scree[2,3])\n\nggplot(words_df, aes(x = V1, y = V2)) +\n  geom_text(aes(label = word), color = \"gray60\") +\n  geom_point(data = texts_df, aes(color = Subcorpus)) +\n  scale_color_manual(values = c(\"#0000CD\",\"#DC143C\")) +\n  geom_hline(yintercept = 0, color = \"darkgray\") +\n  geom_vline(xintercept = 0, color = \"darkgray\") +\n  theme_bw(base_size = 12) +\n  labs(x = dim_1, y = dim_2) +\n  coord_fixed()\n```\n\n::: {.cell-output-display}\n![Biplot of correspondence analysis of Clinton and Trump speeches based on frequent trigrams.](ca-trump-clinton_files/figure-html/fig-tg-1.png){#fig-tg fig-alt='Biplot of correspondence analysis of Clinton and Trump speeches based on the most frequent trigrams. The dots corresponding to Clinton, in blue, form a small group on the left, while the dots representing Trump speeches, in red, are on the right side. The latter are surrounded by many more trigrams, represented as gray text. The axes read \"Dimension 1 (12.48%)\" and \"Dimension 2 (8.53%)\".' width=672}\n:::\n:::\n\n\nWe can see that 12.48% of the variation is covered by the first dimension and 8.53% by the second dimension. Like in @fig-bg, Clinton's speeches are tightly grouped on the left side of the plot whereas Trump's extend over the right side, so the x-axis is now the relevant dimension. The code below sorts the dataframe with features information based on their coordinates in the first dimension (\"V1\", i.e. the horizontal axis) and extracts the first 10 elements. `clinton_tg` and `trump_tg` are thus vectors with the 10 trigrams most characteristic of Clinton's and Trump's speeches respectively.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclinton_tg <- words_df %>%\n  arrange(V1) %>%\n  head(10) %>% pull(word)\ntrump_tg <- words_df %>%\n  arrange(desc(V1)) %>%\n  head(10) %>% pull(word)\n```\n:::\n\n\n```md\nThe trigrams most characteristic of Clinton's speeches are\n`r glue::glue_collapse(paste0(\"*\", clinton_tg, \"*\"), sep = \", \", last = \" and \")`.\nThose most characteristic of Trump's speeches, instead, are\n`r glue::glue_collapse(paste0(\"*\", trump_tg, \"*\"), sep = \", \", last = \" and \")`.\n```\n\n> The trigrams most characteristic of Clinton's speeches are *i_want_you*, *to_make_sure*, *we_need_to*, *we've_got_to*, *want_you_to*, *and_i_want*, *want_to_be*, *i_want_to*, *all_of_you* and *want_to_thank*. Those most characteristic of Trump's speeches, instead, are *her_up_lock*, *up_lock_her*, *lock_her_up*, *trump_administration_will*, *a_trump_administration*, *usa_usa_usa*, *will_make_america*, *trump_trump_trump*, *build_the_wall* and *we_will_make*.\n\nIf you're curious about a specific item, you can use `mclm::conc()` to collect its occurrences, as shown in @tbl-conc. Notice that even infrequent expressions can be considered typical if they are significantly more frequent in one group of documents than in the other.\n\n\n::: {#tbl-conc .cell .column-screen tbl-cap='Concordances of _I want you_ in the corpus.'}\n\n```{.r .cell-code  code-fold=\"true\"}\nconc(fnames, r\"--[(?xi) i \\s+ want \\s+ you]--\") %>% \n  as_tibble() %>% \n  select(source, left, match, right) %>%\n  mutate(source = short_names(source)) %>% \n  kbl(align = c(\"r\", \"r\", \"c\", \"l\")) %>%\n  kable_paper(font_size = 15) %>% \n  scroll_box(height = \"400px\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div style=\"border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; \"><table class=\" lightable-paper\" style='font-size: 15px; font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> source </th>\n   <th style=\"text-align:right;position: sticky; top:0; background-color: #FFFFFF;\"> left </th>\n   <th style=\"text-align:center;position: sticky; top:0; background-color: #FFFFFF;\"> match </th>\n   <th style=\"text-align:left;position: sticky; top:0; background-color: #FFFFFF;\"> right </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-07-28 </td>\n   <td style=\"text-align:right;\"> r hearts and souls into our primary. &lt;APPLAUSE&gt; You've put economic and social justice issues front and center where they belong. &lt;APPLAUSE&gt; And to all of your supporters here and around the country, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know I've heard you. Your cause is our cause. &lt;APPLAUSE&gt; Our country needs your ideas, energy and passion. That is the only way we can turn our progressive platform into real change for America. &lt; </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-01 </td>\n   <td style=\"text-align:right;\"> ot respected, that the dignity of their job is not something that we all support. I know a lot of people who feel that way. I bet there are some in this gymnasium who feel that way. Well, here's what </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know. You deserve a president who will get up every single day in the White House and do everything she can to give you the chance you deserve to have. &lt;CHEERING AND APPLAUSE&gt; &lt;AUDIENCE: Hillary! </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-05 </td>\n   <td style=\"text-align:right;\"> . But I do have this old fashioned idea, when you run for President you ought to tell the voters of America what you would do as President. So, I am going to keep telling you what I would do, because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to hold me accountable, press and citizen alike. Because the stakes are as high as they've ever been in our lifetimes. And we all have to do our part. So, thank you for what you do everyday. Thank yo </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-10 </td>\n   <td style=\"text-align:right;\"> k in April, to learn what's on the minds of Iowans and to figure out what you need from the next president. Now, I know that any election is hard. It's filled with unpredictable twists and turns. But </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to imagine what you will feel like the day after that election if we have not come together to chart a course of confidence and optimism that will really get our economy working for everyone, keep us </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-11 </td>\n   <td style=\"text-align:right;\"> ne at the table, not just republicans and democrats, but businesses and labor unions, academics but most importantly Americans like all you. I think there are a lot of great ideas out in America. And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to have a say. And that means, we've got to get unaccountable money out of politics, overturn Citizens United, and expand voting rights, not restrict them. I intend, starting even before the election </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-11 </td>\n   <td style=\"text-align:right;\"> tay active and engaged and working together to create jobs and to strengthen your own communities. And I hope you will work to get out the vote in November, because if we - if we are able to win then </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> all to work with me to build the kind of progress that America deserves to see. We're going do this together. We are stronger together. Let's go out and build the future. Thank you all, God bless you </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-15 </td>\n   <td style=\"text-align:right;\"> y be the different between the Irish Catholic and the Methodist piece here, we wear everything on our sleeve. I don't think they fully understand how passionate she is about what she does. I've known </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to listen just for a minute. I don't even want you to clap. I want you; because I want to make sure you understand what I know about her. You know she understands that, that college loan to get a bri </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-15 </td>\n   <td style=\"text-align:right;\"> ere, we wear everything on our sleeve. I don't think they fully understand how passionate she is about what she does. I've known I want you to listen just for a minute. I don't even want you to clap. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> ; because I want to make sure you understand what I know about her. You know she understands that, that college loan to get a bright young girl or boy to school is about a lot more than whether or not </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-16 </td>\n   <td style=\"text-align:right;\"> ut what I want to do. I know that some people make fun of me. They say, oh she has all these plans, and you can go to my website and read my plans. But I'll tell you - you know why I do that? Because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know what I'm going to try to do so you can both help me and hold me accountable for doing what I told you I want to do. &lt;APPLAUSE&gt; We want to create millions of new good jobs and infrastructure b </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-31 </td>\n   <td style=\"text-align:right;\"> e are some of you who've never voted for a Democrat before. I get that. My dad was a rock red Republican, but I learned at our dinner table that we can disagree without being disagreeable. &lt;APPLAUSE&gt; </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know, if I am fortunate enough to win this election. I will be a president for Democrats, Republicans, independents, for people who vote for me, for people who don't, for all Americans. That is wh </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-08-31 </td>\n   <td style=\"text-align:right;\"> ople who vote for me, for people who don't, for all Americans. That is what I think we need. We need to unify our country and go forward into the future with confidence and optimism. &lt;APPLAUSE&gt; Today </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know a little bit about where I stand and how I see the world and America's place in it. I spent four years as your Secretary of State, eight years before that as Senator from the great state of N </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-09-05-A </td>\n   <td style=\"text-align:right;\"> e for the future we want to build, and that's exactly what we're going to do. Now some people say, wait a minute, you've got so many plans. Well, you're right, I do have plans. You know, why? Because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know what I want to do to help you and what kind of results we're going to work to achieve. I have this old-fashioned idea that if you're asking somebody to vote for you, they ought to tell you wh </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-09-06 </td>\n   <td style=\"text-align:right;\"> USE&gt; I have a plan to install a half a billion solar panels by the end of my first term. &lt;APPLAUSE&gt; And enough clean energy to power every home in America by the end of my second term. &lt;APPLAUSE&gt; And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> ng people especially to be part of this, to be in science, technology, engineering, manufacturing, creating this future that will determine the quality of your lives and the competitiveness of our eco </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-09-08-C </td>\n   <td style=\"text-align:right;\"> ld fire them all and hand pick his own generals, since, you know, he knows so much about what it takes to be a general. He attacked dozens of former flag officers. At the same time -- and here's what </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to really hear because even I was shocked by this. And I didn't know much could shock me, coming out of his mouth anymore. He praised Russia's strong man, Vladimir Putin, even taking the astonishing </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-09-29 </td>\n   <td style=\"text-align:right;\"> ent working for you. How can we help you deal with the everyday challenges you face, and you know, this amazing college calculator that our team put together will really provide good information. And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to understand that is in line with what I want to do more of in the government. We need to use technology more. We need to get information out. We need to have, you know, people be able to access eas </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-09-30 </td>\n   <td style=\"text-align:right;\"> together in common purpose, we can do so much more than we can ever do on our own. That's why stronger together is more than a slogan. It's a course of action. &lt;APPLAUSE&gt; So here's what I want to do. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to hear me pledge that this will be a vital aspect of my presidency. And I want you to help me bring our nation together, to solve our problems, strengthen our communities, to join with people across </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-09-30 </td>\n   <td style=\"text-align:right;\"> hat's why stronger together is more than a slogan. It's a course of action. &lt;APPLAUSE&gt; So here's what I want to do. I want you to hear me pledge that this will be a vital aspect of my presidency. And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to help me bring our nation together, to solve our problems, strengthen our communities, to join with people across America who care about service because it speaks to both what is great and good abo </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-03 </td>\n   <td style=\"text-align:right;\"> I think in our lifetimes. The choice could not be clearer, and we need everybody to show up. And how many of you still have to register to be able to vote? Everybody here registered? &lt;APPLAUSE&gt; Well, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to talk to your friends because the deadline for registering in Ohio is October 11th. That's just a little over a week away. And if you are not sure whether or not someone you know is registered, or </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-03 </td>\n   <td style=\"text-align:right;\"> rything possible to make sure I deliver results for you. And the reason, the reason that I have published a book with my great running mate, Tim Kaine -- it's right here... &lt;APPLAUSE&gt; Is real simple. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know what we say we are going to do because I want you to hold me accountable. &lt;APPLAUSE&gt; I don't believe in bait and switch, where I say, we are going to do something, and then I am really over h </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-03 </td>\n   <td style=\"text-align:right;\"> nd the reason, the reason that I have published a book with my great running mate, Tim Kaine -- it's right here... &lt;APPLAUSE&gt; Is real simple. I want you to know what we say we are going to do because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to hold me accountable. &lt;APPLAUSE&gt; I don't believe in bait and switch, where I say, we are going to do something, and then I am really over here doing something else. That kind of reminds you somebod </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-24 </td>\n   <td style=\"text-align:right;\"> bit of a woman's thing because we make lists. &lt;LAUGHTER&gt; We do. We make lists. And we try to write down what we're supposed to do and them cross them off as we go through the day and the week. And so </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to think about our plans as our lists, our list as a country. We are going to get the economy working for everybody, not just those at the top. We are going to make college affordable. We are going t </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-24 </td>\n   <td style=\"text-align:right;\"> f that's how Donald Trump runs his business, what does that say about how he would run our country? So, my friends, there are lots of reasons, so many, to take this election seriously. But here' what </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know. Of course, I want you to vote for all of us. But more than that, I want you to vote for yourselves and for your families and for your hope, for our future together. &lt;APPLAUSE&gt; Because if you </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-24 </td>\n   <td style=\"text-align:right;\"> his business, what does that say about how he would run our country? So, my friends, there are lots of reasons, so many, to take this election seriously. But here' what I want you to know. Of course, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to vote for all of us. But more than that, I want you to vote for yourselves and for your families and for your hope, for our future together. &lt;APPLAUSE&gt; Because if you believe women and girls should </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-24 </td>\n   <td style=\"text-align:right;\"> n our country? So, my friends, there are lots of reasons, so many, to take this election seriously. But here' what I want you to know. Of course, I want you to vote for all of us. But more than that, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to vote for yourselves and for your families and for your hope, for our future together. &lt;APPLAUSE&gt; Because if you believe women and girls should be treated with dignity and respect and that women sh </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-26 </td>\n   <td style=\"text-align:right;\"> IENCE: Hillary, Hillary, Hillary.&gt; &lt;CLINTON:&gt; So, I've got to say to you that, you know, change is inevitable in life. Right? And so the real question is what kind of change are we going to have. And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to talk to anybody you know who's either thinking of not voting or maybe thinking of voting for my opponent. &lt;BOOING&gt; No, I'm serious. I'm serious. You know, after this election, if I'm fortunate eno </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-31-B </td>\n   <td style=\"text-align:right;\"> ail story about, you know, why in the world the FBI... &lt;BOOING&gt; ... would decide to jump into an election without evidence of any wrong doing, with just days to go. That's a really good question. But </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know, look, I've said repeatedly. On -- I -- you know, I made a mistake. I'm not making any excuses. But I will tell you this, if they want to look at some more e-mails of one of my staffers, by a </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-31-B </td>\n   <td style=\"text-align:right;\"> clean renewable energy jobs are at stake. &lt;APPLAUSE&gt; LGBT equality is at stake. &lt;APPLAUSE&gt; Equal pay for women is at stake. &lt;APPLAUSE&gt; Actually, in the end, the American dream itself is at stake. So </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to think about how you'll feel on November 9th. Happy? &lt;APPLAUSE&gt; I think that's the right answer. &lt;APPLAUSE&gt; But just suppose -- just suppose you go to bed early -- suppose you go to bed early. Mayb </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-31-B </td>\n   <td style=\"text-align:right;\"> the right answer. &lt;APPLAUSE&gt; But just suppose -- just suppose you go to bed early -- suppose you go to bed early. Maybe you were too busy to vote, or maybe you didn't make calls, or knocked on doors. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to imagine, so you get up early on the morning of the 9th, and you log on to news to find out, hey what's going on, or maybe you turn on the TV or the radio and you hear. &lt;BOOING&gt; I want you to reall </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-31-B </td>\n   <td style=\"text-align:right;\"> n doors. I want you to imagine, so you get up early on the morning of the 9th, and you log on to news to find out, hey what's going on, or maybe you turn on the TV or the radio and you hear. &lt;BOOING&gt; </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to really understand what that means for you and for all of us. Because I prefer for us to be motivated by what we're for, not what we're against. &lt;APPLAUSE&gt; But I also think it's prudent to imagine </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-10-31-B </td>\n   <td style=\"text-align:right;\"> hink it's prudent to imagine what could happen if we don't do our part. And when, in the future, somebody asks you, maybe your kids or your grandkids, what did you do when everything was on the line? </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to be able to say, I voted for a better, fairer, stronger America. &lt;APPLAUSE&gt; Let's go out and in these next eight days do everything we can to make it clear, we're going after the kind of future tha </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-01-A </td>\n   <td style=\"text-align:right;\"> e have against me?\" But this is not new. I know I'm reaching out to Republicans and Independents, as well as Democrats because I want to be the president for all Americans. &lt;APPLAUSE&gt; And here's what </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> tell - I want you to tell your Republican friends in 1987 Donald Trump took out a $100,000 ad in the New York Times to criticize President Reagan. He said, \"Our leaders are the laughing stock of the </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-01-A </td>\n   <td style=\"text-align:right;\"> \" But this is not new. I know I'm reaching out to Republicans and Independents, as well as Democrats because I want to be the president for all Americans. &lt;APPLAUSE&gt; And here's what I want you tell - </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to tell your Republican friends in 1987 Donald Trump took out a $100,000 ad in the New York Times to criticize President Reagan. He said, \"Our leaders are the laughing stock of the world.\" So, this i </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-01-A </td>\n   <td style=\"text-align:right;\"> that that's not who we are. &lt;APPLAUSE&gt; Now, I know here in this - this county and this larger region, you probably know some people who are going to vote for Trump, and here's what I want to ask you. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to talk with them, ask them what they care about, ask them what kind of future they want for our country. Because Donald Trump's economic plan is slashing taxes on the wealthy and big corporations. I </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-01-B </td>\n   <td style=\"text-align:right;\"> til November the 6th. So if you don't know where you're supposed to vote, that's easy, too. You can go to IwillVote.com and that will tell you the nearest early-voting location to where you live. And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to also do me another favor. If you know anybody who says they're thinking of voting from Trump, I want you to stage an intervention. &lt;APPLAUSE&gt; And I want you to talk to this person because unless t </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-01-B </td>\n   <td style=\"text-align:right;\"> illVote.com and that will tell you the nearest early-voting location to where you live. And I want you to also do me another favor. If you know anybody who says they're thinking of voting from Trump, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to stage an intervention. &lt;APPLAUSE&gt; And I want you to talk to this person because unless they're a billionaire who avoided paying taxes for 20 years and lost a billion dollars running casinos, they </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-01-B </td>\n   <td style=\"text-align:right;\"> -voting location to where you live. And I want you to also do me another favor. If you know anybody who says they're thinking of voting from Trump, I want you to stage an intervention. &lt;APPLAUSE&gt; And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to talk to this person because unless they're a billionaire who avoided paying taxes for 20 years and lost a billion dollars running casinos, they don't have anything to gain from Donald Trump. In fa </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-A </td>\n   <td style=\"text-align:right;\"> That's what I did in the senate and as secretary of State. I could've never gotten anything done if I hadn't worked with Republicans... &lt;APPLAUSE&gt; ... and others who had different points of view. And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know if you elect me on Tuesday that is the kind of president I will be. Listening... &lt;APPLAUSE&gt; ... learning, finding common ground. &lt;APPLAUSE&gt; And from the very first day of this campaign, I've </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-A </td>\n   <td style=\"text-align:right;\"> truly believe you deserve a candidate you can vote for, not just someone to vote against. &lt;APPLAUSE&gt; And so, you can go to my website, Tim Kaine and I wrote a book called \"Stronger Together\" because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know what the agenda is and I want you to hold me accountable. When I come back to Pittsburgh, which I hope to do on a regular basis...&lt;APPLAUSE&gt; &lt;CLINTON:&gt; ... I want people to say, \"Hey, you kno </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-A </td>\n   <td style=\"text-align:right;\"> can vote for, not just someone to vote against. &lt;APPLAUSE&gt; And so, you can go to my website, Tim Kaine and I wrote a book called \"Stronger Together\" because I want you to know what the agenda is and </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to hold me accountable. When I come back to Pittsburgh, which I hope to do on a regular basis...&lt;APPLAUSE&gt; &lt;CLINTON:&gt; ... I want people to say, \"Hey, you know, I saw where you wanted to do more on in </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-A </td>\n   <td style=\"text-align:right;\"> paid taxes, right? If it turns out that he's as rich as he claims, it would be trickle down economics on steroids. The wealthy would be paying lower tax rates than ever. His plan -- and this is what </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to hear -- so, he's taking care of himself, he's taking care of his family, he's taking care of the super wealthy and corporations, his plan would actually raise taxes on 26 million low-income and mi </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> o 112 countries, negotiated cease-fires, reduced the threat of nuclear weapons, stood up for human rights and women's rights and workers' rights and LGBT rights. &lt;CHEERS&gt; I'm telling you this because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know that I will do everything I can. If I am honored to be your president, I will get up every day in that White House and I will go to work for you and your families to make it possible for you </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> sident, I will get up every day in that White House and I will go to work for you and your families to make it possible for you to have the chances and the opportunities you deserve to have. &lt;CHEERS&gt; </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to have a candidate you can vote for, not just someone to vote against. That's why Tim Kaine and I have run a campaign based on ideas and issues, not insults. &lt;CHEERS&gt; Because if you really take a lo </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> to build a stronger, fairer, better country? Or are we going to fear the future and each other? I sure hope not. That is not the America that I believe we are. So here's what I want to ask you to do. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to talk to your friends and your family, your neighbors. Michigan is one of these states that doesn't have early voting. I've been all over the country, going to states that are already voting. In fa </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> . &lt;CHEERS&gt; That's what I will do. That's why we put this all down. It's on our website, HillaryClinton.com. It's in a book that Tim Kaine and I put out called \"Stronger Together,\" because not only do </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know what I will try to do as your president, I want you to hold me accountable. I want you... &lt;CHEERS&gt; I want you, when I come back to Detroit, which I will do, when I travel around Michigan, whi </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> down. It's on our website, HillaryClinton.com. It's in a book that Tim Kaine and I put out called \"Stronger Together,\" because not only do I want you to know what I will try to do as your president, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to hold me accountable. I want you... &lt;CHEERS&gt; I want you, when I come back to Detroit, which I will do, when I travel around Michigan, which I will do, I want you to say, well, how's it going gettin </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> Clinton.com. It's in a book that Tim Kaine and I put out called \"Stronger Together,\" because not only do I want you to know what I will try to do as your president, I want you to hold me accountable. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> ... &lt;CHEERS&gt; I want you, when I come back to Detroit, which I will do, when I travel around Michigan, which I will do, I want you to say, well, how's it going getting those new jobs started? How much </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> book that Tim Kaine and I put out called \"Stronger Together,\" because not only do I want you to know what I will try to do as your president, I want you to hold me accountable. I want you... &lt;CHEERS&gt; </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> , when I come back to Detroit, which I will do, when I travel around Michigan, which I will do, I want you to say, well, how's it going getting those new jobs started? How much progress are we making </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> I will try to do as your president, I want you to hold me accountable. I want you... &lt;CHEERS&gt; I want you, when I come back to Detroit, which I will do, when I travel around Michigan, which I will do, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to say, well, how's it going getting those new jobs started? How much progress are we making on making sure college is affordable? I believe in making lists. Maybe it's a woman's thing. &lt;CHEERS&gt; My h </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> 6 because when your children -- and there are some beautiful children in this crowd here today. &lt;CHEERS&gt; When your children or grandchildren ask what you did in 2016, when everything was on the line, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to be able to say, I voted for a better, stronger, fairer America. &lt;CHEERS&gt; An America where we build bridges, not walls. &lt;CHEERS&gt; And where we prove once and for all that love trumps hate. Let's get </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-05 </td>\n   <td style=\"text-align:right;\"> t's what I'll keep doing. &lt;APPLAUSE&gt; Now, my friends, you are a hardy bunch to stand out here in the rain. I don't think I need to tell you all of the wrong things about Donald Trump. But here's what </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to remember: I want to be the president for everybody, everybody who agrees with me, people who don't agree with me, people who vote for me, people who don't vote for me. &lt;APPLAUSE&gt; So let's get out, </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-06-A </td>\n   <td style=\"text-align:right;\"> e affordable, how you've taken on the epidemic of addiction. You're doing it the New Hampshire way and both Maggie and Colin represent that. &lt;APPLAUSE&gt; I sure think Washington needs more of that. And </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> , also, to know how important it is to send Congresswoman Annie Kuster and Congresswoman Carol Shae-Porter to Washington, as well. &lt;APPLAUSE&gt; Both Annie and Carol will bring the same attitude about ro </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-06-A </td>\n   <td style=\"text-align:right;\"> ies in there. It's -- yes, I see somebody holding it up back there -- because we don't only want you to know what we plan to do; we want you to hold us accountable. When I come back to New Hampshire, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to ask, how's that college affordability plan going? What are we doing about getting the cost of prescription down? How are we managing the economy so that it produces more good jobs for everybody, n </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-06-B </td>\n   <td style=\"text-align:right;\"> een division or unity, between an economy that works for everyone or one that is stacked for those at the top, between strong, steady leadership or a loose cannon. And as you think about this choice, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know where I am coming from, because what I want to do as your president is really to build on and continue what I've done my entire life, fighting for kids and families... &lt;APPLAUSE&gt; ... standing </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-07-B </td>\n   <td style=\"text-align:right;\"> great personal experience and privilege of having worked with Debbie, gotten to know her, become a friend of hers, and I am so excited at the possibility that I'll be able to work with her again. But </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know this - and I really, really hope you'll tell folks, because there is no more dedicated, effective member of the United States Senate than Debbie Stabenow. &lt;APPLAUSE&gt; She fights for all of you </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-07-B </td>\n   <td style=\"text-align:right;\"> rence Committee, which he headed, after my junior year in college. So when I say I've gotten to know a lot of our presidents, and people who've run for president, it goes back a ways. And here's what </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to understand. I didn't agree with everything they did or said. Even the Democrats. We had differences and politics and policies and sometimes on principle, but I never doubted, I never doubted that </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-07-B </td>\n   <td style=\"text-align:right;\"> several dozen of them wrote a letter explaining why they could never support Donald Trump to be our commander-in-chief. &lt;APPLAUSE&gt; The awesome responsibility that is housed in one person is something </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to think about between now and the time you vote. Because I will pledge to you that I will exercise the greatest care and responsibility in all of the powers invested in the office of the presidency. </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-07-B </td>\n   <td style=\"text-align:right;\"> k about affordable childcare, and paid family leave, and equal pay - he says I'm playing the woman's card and you know what I say, if that's the case? Then deal me in. &lt;APPLAUSE&gt; And here's what else </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know. It's fair to ask, \"How are you going to pay for that?\" That's not only fair, that's necessary to ask. Because I want to be a good steward of your tax dollars just as I expect you're a good s </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-07-B </td>\n   <td style=\"text-align:right;\"> down. The question as my mother would say is are you gonna get back up? And for people in our country who feel like they've been knocked down and nobody cares, nobody's paying attention, here's what </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know. If you give me the honor of being your president I'm gonna do everything I can to get this country and everybody in it back up on our feet moving forward together. &lt;APPLAUSE&gt; Because I want </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-07-C </td>\n   <td style=\"text-align:right;\"> use none of us -- none of us -- want to wake up on Wednesday morning and wish we had done more. Years from today when your kids and grandkids ask what you did in 2016 when everything was on the line, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to be able to say that you did vote, you voted for an inclusive, big-hearted, open-minded country future that will make sure that we all keep moving together, because I do believe we are stronger tog </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-08 </td>\n   <td style=\"text-align:right;\"> you know, North Carolina, you've got to vote to get rid of HB2. &lt;APPLAUSE&gt; Now, this is so energizing. We could -- we could keep going with a long list. &lt;APPLAUSE&gt; But here's what -- here's what else </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know. Good thing this election didn't land during exams. That's all I can say. &lt;APPLAUSE&gt; Look, tomorrow -- tomorrow night, this election will end, but I want you to understand our work together w </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-08 </td>\n   <td style=\"text-align:right;\"> t here's what -- here's what else I want you to know. Good thing this election didn't land during exams. That's all I can say. &lt;APPLAUSE&gt; Look, tomorrow -- tomorrow night, this election will end, but </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to understand our work together will be just beginning. &lt;APPLAUSE&gt; We have to bridge the divides in this country. As the Bible says, we have to repair the breaches. We've got to be willing to start l </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-08 </td>\n   <td style=\"text-align:right;\"> start listening to each other again, respecting each other again. &lt;APPLAUSE&gt; And I -- I want to thank Gaga because she has always stood for that fundamental principle of respecting... &lt;APPLAUSE&gt; So, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know and I want you to spread the word, I do want to be president for all Americans, not just some, not just the people who support me and vote for me. I want to be president for everyone. Because </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-08 </td>\n   <td style=\"text-align:right;\"> h other again, respecting each other again. &lt;APPLAUSE&gt; And I -- I want to thank Gaga because she has always stood for that fundamental principle of respecting... &lt;APPLAUSE&gt; So, I want you to know and </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to spread the word, I do want to be president for all Americans, not just some, not just the people who support me and vote for me. I want to be president for everyone. Because we all have a role to </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-09 </td>\n   <td style=\"text-align:right;\"> I know how disappointed you feel because I feel it too, and so do tens of millions of Americans who invested their hopes and dreams in this effort. This is painful and it will be for a long time, but </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to remember this. Our campaign was never about one person or even one election, it was about the country we love and about building an America that's hopeful, inclusive and big-hearted. We have seen </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Clinton_2016-11-09 </td>\n   <td style=\"text-align:right;\"> PLAUSE&gt; And so we need -- we need you to keep up these fights now and for the rest of your lives. And to all the women, and especially the young women, who put their faith in this campaign and in me, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know that nothing has made me prouder than to be your champion. &lt;APPLAUSE&gt; Now, I -- I know -- I know we have still not shattered that highest and hardest glass ceiling, but some day someone will </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-08-02 </td>\n   <td style=\"text-align:right;\"> veterans, our great people and that's why maybe the lieutenant colonel did that. I mean its such an amazing thing. I -- he showed it me and I said, here thank you very much, here's a -- no, Mr. Trump </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to keep it. I said, \"keep it?\" I mean these are incredible things that happen, these are incredible people that I meet. And thinking about lieutenant colonel, thinking about our military -- our milit </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-08-23 </td>\n   <td style=\"text-align:right;\"> rd to voting in Mr. Trump, who will end this slaughter of Americans. (APPLAUSE) As you can see that we have shirts of our children and some banners. I have one of another mother's shirt today because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to remember there are so many people and families with the Remembrance Project that are on their knees in grief that they can't get out and talk about it. Pray for those families today. And thank you </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-08-24-A </td>\n   <td style=\"text-align:right;\"> nder this president, too. Since President Obama came into office, another two million Hispanics have joined the ranks of those in poverty. Two million have joined the ranks of poverty, not of wealth. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to join the -- the ranks of people that are making phenomenal livings. That's what you want to join. &lt;APPLAUSE&gt; The number of Hispanic children living in poverty increased by 15 percent in that short </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-08-25 </td>\n   <td style=\"text-align:right;\"> st citizens from crime and violence and poverty and fear. &lt;APPLAUSE&gt; To Hillary Clinton and her donors and advisers, pushing her to spread smears and her lies about decent people, I have three words. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to remember these three words: Shame on you. &lt;APPLAUSE&gt; When you're like the Clintons getting -- think of this one -- getting $69 million in political contributions from Wall Street and big banks -- </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-09-12-A </td>\n   <td style=\"text-align:right;\"> is there any place in America more fun to be than a Trump rally, right? Right? No place. No place. Watching these parents tell their children about Hillary's attacks. To every kid in America tonight, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know that your parents are working so hard to make your life better and to make your country better. &lt;APPLAUSE&gt; It's OK. The cameras are following us that is why. &lt;APPLAUSE&gt; &lt;TRUMP:&gt; See now, the </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-10-14-B </td>\n   <td style=\"text-align:right;\"> So we went to Indiana, and in going to Indiana, I got to know the great Bobby Knight. That was a great endorsement, Coach Knight. You know that story he called, he said, \"Mr. Trump this Coach Knight, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to run for president.\" I said, Coach, I haven't made up my mind. This was a couple of years ago. He said, \"Well, if you do I'd like to endorse you. You just let me know.\" And we were winning state af </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-10-21-A </td>\n   <td style=\"text-align:right;\"> admit and brag that they're fomenting and causing violence, even back in the Chicago incident in March, but also talking about a massive voter fraud plan that they have and they want to orchestrate. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to hear how the money flows and then respond to the two specific tapes. Listen to this. (BEGIN VIDEO CLIP)&gt; &lt;UNIDENTIFIED MALE: I am contracted with him, but I answer (INAUDIBLE) the head of special </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-10-31 </td>\n   <td style=\"text-align:right;\"> ed that Michigan residents are going to experience crushing double-digit premium hikes, congratulations -- congratulations. &lt;BOOING&gt; In fact a number is so high, I don't want to give it to you 'cause </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to have a good time today, OK? I don't want to ruin your day, I'll just see you sort of slump out of here, no. By the way, any place more fun to be than a Trump rally? &lt;AUDIENCE: No!&gt; &lt;TRUMP:&gt; And ho </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-01-A </td>\n   <td style=\"text-align:right;\"> nnounced that the residents of Wisconsin -- congratulations -- are going to experience a massive double-digit premium hike. You know that, right? &lt;BOOING&gt; I'm not going to tell you what it is because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to leave here happy. I don't want you to be depressed, but don't worry about it. We're going to get rid of it so you're not going to have to worry about it. &lt;APPLAUSE&gt; In the great state of Arizona, </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-02-A </td>\n   <td style=\"text-align:right;\"> just been announced that the residents of Florida -- sorry to tell you this, folks -- are going to experience a massive, massive double digit premium hike. &lt;BOOING&gt; Now, I know what that hike is, but </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to leave here happy, I want you to be happy people. I want you to think about the future after we take back the White House so I'm not going to tell you what your hike is, but let me just say it's go </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-02-A </td>\n   <td style=\"text-align:right;\"> idents of Florida -- sorry to tell you this, folks -- are going to experience a massive, massive double digit premium hike. &lt;BOOING&gt; Now, I know what that hike is, but I want you to leave here happy, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to be happy people. I want you to think about the future after we take back the White House so I'm not going to tell you what your hike is, but let me just say it's going to be very substantial. And </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-02-A </td>\n   <td style=\"text-align:right;\"> ell you this, folks -- are going to experience a massive, massive double digit premium hike. &lt;BOOING&gt; Now, I know what that hike is, but I want you to leave here happy, I want you to be happy people. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to think about the future after we take back the White House so I'm not going to tell you what your hike is, but let me just say it's going to be very substantial. And Obamacare doesn't work on top o </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-02-A </td>\n   <td style=\"text-align:right;\"> ic community. &lt;APPLAUSE&gt; And the lines are four, five and six blocks long. They've never seen anything like it. And the polls have just come up. We're way up in Florida. I shouldn't say that, because </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to go vote. &lt;APPLAUSE&gt; OK, ready? We're going to pretend we're down. We're down. Pretend, right? We'll pretend we're down. No, we got to win. We got to win big. We got to beat her. Got to beat her. W </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-02-A </td>\n   <td style=\"text-align:right;\"> ttacks this year alone, never had anything like this. And what it is, is a lack of respect for our nation, it's a lack of respect for our leadership. To all the great men and women of law enforcement </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know, we're with you, we support you and we will stand by you. &lt;APPLAUSE&gt; We will restore law order and justice in America -- justice. &lt;AUDIENCE: USA! USA! USA!&gt; &lt;TRUMP:&gt; Thank you. Thank you, so </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-02-B </td>\n   <td style=\"text-align:right;\"> announced that the residents of Florida, hate to tell you this, are going to experience massive, double-digit premium hikes. I know what those hikes are. &lt;BOOING&gt; Should I tell you? Let's keep it -- </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to leave happy tonight knowing that we're going to make America great again, OK? &lt;APPLAUSE&gt; And in the very near future, it's going to be gone, \"Obamacare,\" so don't worry. But I won't tell you what </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-02-C </td>\n   <td style=\"text-align:right;\"> . It's just been announced that the residents of Florida are going to experience a massive double digit premium hike. &lt;BOOING&gt; I will not tell you what the number is. I know the number very well, but </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to leave happy. You don't want to hear the number, go home, relax, wake up good and strong tomorrow morning. You'll learn, you're not going to like it. In the great state of Arizona, where we just le </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> or the highest office in our land, the president of the United States... (CHEERING AND APPLAUSE) ...takes out the time from his campaign to call us. God does bless us. Now, all you mothers out there, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to put yourself in my shoes for one minute. And you fathers, too. I want you to please, please, please vote for Mr. Donald trump in my... (CHEERING AND APPLAUSE) ...in my son's honor, please. (CHEERI </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-04-B </td>\n   <td style=\"text-align:right;\"> ERING AND APPLAUSE) ...takes out the time from his campaign to call us. God does bless us. Now, all you mothers out there, I want you to put yourself in my shoes for one minute. And you fathers, too. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to please, please, please vote for Mr. Donald trump in my... (CHEERING AND APPLAUSE) ...in my son's honor, please. (CHEERING AND APPLAUSE)&gt; &lt;TRUMP:&gt; She does a good job, doesn't she? &lt;RONE: Riley. (C </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-05-A </td>\n   <td style=\"text-align:right;\"> y before the interest of our country. &lt;APPLAUSE&gt; From now on, it's going to be America first. To all Americans, I say, it is time for change. It is time for new leadership. &lt;APPLAUSE&gt; And in closing, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to think about... &lt;AUDIENCE: We want Trump! We want Trump! We want Trump! We want Trump! We want Trump! We want Trump! We want Trump! We want Trump! We want Trump!&gt; &lt;TRUMP:&gt; Thank you, folks. I just </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-05-B </td>\n   <td style=\"text-align:right;\"> from next year. Good luck with that negotiation. Good luck with that negotiation. Good luck. And your numbers are going to be really high, but I'm not going to depress you, but I know what they are. </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to be happy when you leave, but actually you will because we're going to get rid of Obamacare anyway, so you're not going to have to pay. Don't bother. &lt;CHEERING AND APPLAUSE&gt; We're going to have gre </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-05-B </td>\n   <td style=\"text-align:right;\"> oing to be America first. &lt;CHEERING AND APPLAUSE&gt; To all Americans I say it's time for change, it's time for real leadership. We'll have real leadership. &lt;CHEERING AND APPLAUSE&gt; Just in finishing up, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to think about what we can accomplish in the first 100 days of the Trump administration. We are going to have the biggest tax cut since Ronald Reagan... &lt;CHEERING AND APPLAUSE&gt; ...and she is going to </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-07-A </td>\n   <td style=\"text-align:right;\"> ons, they hate what the Clintons did to them in Haiti, they hate them.&lt;APPLAUSE&gt; &lt;TRUMP:&gt; The Dominican Republic and from many other places to all of our wonderful Hispanic communities in this state, </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to know that you will have a true friend and champion in Donald Trump. That I can tell you. &lt;APPLAUSE&gt; Whether you vote for me or not, I'm with you. I will never ever let you down. We will become a r </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> Trump_2016-11-07-D </td>\n   <td style=\"text-align:right;\"> k in your negotiation. Honestly folks, not going to matter, we're going to have it terminated. We're going to have great health care at a fraction of the cost, so it's not going to matter. &lt;APPLAUSE&gt; </td>\n   <td style=\"text-align:center;\"> I want you </td>\n   <td style=\"text-align:left;\"> to leave here happy tonight. &lt;APPLAUSE&gt; Premiums are surging, companies are leaving, insurers are fleeing, doctors are quitting and deductibles are going through the roof. Yet, Hillary Clinton wants </td>\n  </tr>\n</tbody>\n</table></div>\n\n`````\n:::\n:::\n\n\n# Extra: writing functions {#sec-custom}\n\nIf you have a lot of code that needs to be run over and over again with minimal modifications, writing a function is a good idea. However, putting *everything* into one overarching function is not always the best solution. Both to facilitate debugging and to give you the opportunity to inspect elements at different stages, you might want to write smaller functions for functional units of code.\n\nOne way of going about this with the code in this document is by writing one function to compile the frequencies, one to preprocess the result for plotting and one to generate the plot.\n\n## Compile frequencies\n\nThe function below, `compile_frequencies()`, takes as arguments the `features`, the `fnames`, the `short_fnames` and the different arguments we want to give to `freqlist()`, since that will change in each case study.\nIn line 1 we name the function, and in lines 1-4 we list the possible arguments. The first three are named, whereas `...` allows us to add an undefined number or arguments. They will be given to `freqlist()` in line 6, e.g. `ngram_size = 2`.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"true\"}\ncompile_frequencies <- function(features,\n                                fnames,\n                                short_fnames,\n                                ...) {\n  d <- map(setNames(fnames, short_fnames), function(fname) {\n    freqlist(fname, ...)[features]\n  }) %>%\n  bind_cols() %>% \n  data.frame(row.names = features) %>% \n  as.matrix() %>% \n  t() %>% \n  drop_empty_rc()\n}\n```\n:::\n\n\n## Obtain coordinates\n\nBy giving the output of `compile_frequencies()` to `ca()`, we obtain a correspondence analysis object that we could call `d_ca`. Next, we might want to write one or two functions to create the small tibbles with the row and column coordinates and the variables for plotting. Here I will show how to create one function `get_coords()` that takes the object `d_ca` and the subcorpora vector and returns a named list with two elements. Alternatively, you could also write two separate functions: one for the rows and one for the columns (the latter wouldn't need the subcorpora vector).\n\nHere, lines 2-4 replicate the `texts_df` definition and lines 6-7, that of `words_df`. Lines 9-12 create and return a named list with both elements.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"true\"}\nget_coords <- function(d_ca, sub_corp) {\n  texts_df <- row_pcoord(d_ca)[,c(1, 2)] %>% \n    as_tibble(rownames = \"text\") %>% \n    mutate(Subcorpus = sub_corp)\n  \n  words_df <- col_pcoord(d_ca)[,c(1, 2)] %>% \n    as_tibble(rownames = \"word\")\n  \n  list(\n    rows = texts_df,\n    cols = words_df\n  )\n}\n```\n:::\n\n\nIf you wrote two separate functions, you could call them to generate `texts_df` and `words_df` separately. Instead, the output of `get_coords()` will be a list, let's say `ca_coords`, of which the element `ca_coords$rows` will correspond to `texts_df` and `ca_coords$cols` will correspond to `words_df`.\n\n## Plot\n\nFinally, we can write a plotting function that covers everything we need to generate our plot. Such functions are extremely useful when writing papers in which you need to print multiple different plots with similar aesthetic characteristics. Moreover, if you have one function to generate a lot of different plots, i.e. scatterplots for different datasets, and you decide to change the color palette, the background color or the size of the points, you can simply adjust the function, and all the plots generated with it will change in response.^[`theme_set()` is also an useful tool for this purpose.]\n\nThe function below, `plot_ca()`, takes the result of `get_coords()` and a list with variance data extracted from `summary(d_ca)$scree[,3]`. Lines 2 and 3 take the variance information to include it in the axis labels, later defined in line 12. In lines 5 and 7, what used to be `texts_df` and `words_df` are now `ca_coords$rows` and `ca_coords$cols`, i.e. the elements \"rows\" and \"cols\" from the output of `get_coords()`.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"true\"}\nplot_ca <- function(ca_coords, variances) {\n  dim_1 <- sprintf(\"Dimension 1 (%.2f %%)\", variances[[1]])\n  dim_2 <- sprintf(\"Dimension 2 (%.2f %%)\", variances[[2]])\n  \n  ggplot(ca_coords$cols, aes(x = V1, y = V2)) +\n    geom_text(aes(label = word), color = \"gray60\") +\n    geom_point(data = ca_coords$rows, aes(color = Subcorpus)) +\n    scale_color_manual(values = c(\"#0000CD\",\"#DC143C\")) +\n    geom_hline(yintercept = 0, color = \"darkgray\") +\n    geom_vline(xintercept = 0, color = \"darkgray\") +\n    theme_bw(base_size = 12) +\n    labs(x = dim_1, y = dim_2) +\n    coord_fixed()\n}\n```\n:::\n\n\n## Example: first case study\n\nWith these functions, the code for the case study in @sec-function (after loading `fnames`, `short_fnames` and `sub_corp`, of course) becomes the one below. After each line, we have a significant unit that we might want to inspect or manipulate.\n\n\n::: {.cell .fig-column-margin}\n\n```{.r .cell-code  code-line-numbers=\"true\"}\nfeatures <- read_types(here(\"studies\", \"assets\", \"ca-trump-clinton\", \"function-words.txt\"))\nd <- compile_frequencies(features, fnames, short_fnames)\nd_ca <- ca(d)\nca_coords <- get_coords(d_ca, sub_corp)\nplot_ca(ca_coords, summary(d_ca)$scree[,3])\n```\n\n::: {.cell-output-display}\n![CA plot with function words as features.](ca-trump-clinton_files/figure-html/fig-redo-1.png){#fig-redo width=672}\n:::\n:::\n\n\n-   Line 1 reads the files with features; after it we can check whether it actually contains the items we wanted.\n\n-   Line 2 creates the matrix of documents by features, and we can inspect it afterwards with something like `d[1:10,1:10]` or `dim(d)`.\n\n-   Line 3 runs the correspondence analysis and we can inspect the output with `d_ca` or `summary(d_ca)`.\n\n-   Line 4 prepares the coordinates for plotting. We can then also check the most extreme features with `head(arrange(ca_coords$cols, desc(V1)))`, for example.\n\n-   Line 5 plots the dots on the components (@fig-redo).\n\n## Full code\n\nThe full code of this document could then be compressed as in the chunk below. Notice that here I have excluded all calls to `print()`, `kbl()` and `kable_paper()`. I have also used different variable names for the different studies instead of overwriting variables, since it can cause problems when you lose track of what is stored as what. Finally, I dedicated a line to define the path to the corpus and one to define the path to the lists of function words and the stoplist.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorpus_folder <- here(\"studies\", \"_corpora\", \"clinton_trump\")\nassets <- here(\"studies\", \"assets\", \"ca-trump-clinton\")\nfnames <- get_fnames(corpus_folder)\nshort_fnames <- short_names(fnames)\nsub_corp <- fnames %>%\n  re_retrieve_first(\"/clinton_trump/([^/]+)\", requested_group = 1)\n\n# Function words as features ----\nfeatures1 <- read_types(file.path(assets, \"function-words.txt\"))\nd1 <- compile_frequencies(features1, fnames, short_fnames)\n\nd_ca1 <- ca(d1)\nca_coords1 <- get_coords(d_ca1, sub_corp)\n\nplot_ca(ca_coords1, summary(d_ca1)$scree[,3])\n\n## Inspect extremes ----\nca_coords1$cols %>% \n  arrange(desc(V2)) %>% \n  head(20) %>% \n  pull(word)\nca_coords1$cols %>% \n  arrange(V2) %>% \n  head(20) %>% \n  pull(word)\n\n# Content words as features ----\nstop_list <- read_types(file.path(assets, \"stop_list.txt\"))\nfeatures2 <- freqlist(fnames) %>%\n  drop_types(stop_list) %>%\n  keep_bool(ranks(.) <= 150) %>%\n  as_types()\n\nd2 <- compile_frequencies(features2, fnames, short_fnames)\nd_ca2 <- ca(d2)\nca_coords2 <- get_coords(d_ca2, sub_corp)\nplot_ca(ca_coords2, summary(d_ca2)$scree[,3])\n\n## Zoomed-in plot ----\nplot_ca(ca_coords2, summary(d_ca2)$scree[,3]) +\n  coord_fixed(xlim = c(0, 0.5), ylim = c(-0.5, 0))\n\n## Select items ----\nca_coords2$cols %>%\n  filter(V1 >= 0 & V2 <= 0) %>% \n  mutate(dist_to_center = sqrt(V1^2 + V2^2)) %>% \n  arrange(desc(dist_to_center)) %>% \n  pull(word)\n  \n# Bigrams as features ----\nfeatures3 <- fnames %>%\n  freqlist(ngram_size = 2) %>%\n  drop_re(\"(applause|cheering|--)\") %>%\n  keep_bool(ranks(.) <= 150) %>%\n  as_types()\n\nd3 <- compile_frequencies(features3, fnames, short_fnames, ngram_size = 2)\nd_ca3 <- ca(d3)\nca_coords3 <- get_coords(d_ca3, sub_corp)\nplot_ca(ca_coords3, summary(d_ca3)$scree[,3])\n\n## Inspect extremes ----\nca_coords3$cols %>% \n  arrange(V1) %>%\n  head(20) %>% \n  pull(word)\nca_coords3$cols %>% \n  arrange(desc(V1)) %>%\n  head(20) %>% \n  pull(word)\n\n# Trigrams as features ----\nfeatures4 <- fnames %>%\n  freqlist(ngram_size = 3) %>%\n  drop_re(\"(applause|cheering|--)\") %>%\n  keep_bool(ranks(.) <= 150) %>%\n  as_types()\n\nd4 <- compile_frequencies(features4, fnames, short_fnames, ngram_size = 3)\nd_ca4 <- ca(d4)\nca_coords4 <- get_coords(d_ca4, sub_corp)\nplot_ca(ca_coords4, summary(d_ca4)$scree[,])\n\n## Inspect extremes ----\nca_coords4$cols %>% \n  arrange(V1) %>%\n  head(10) %>% \n  pull(word)\nca_coords4$cols %>% \n  arrange(desc(V1)) %>%\n  head(10) %>% \n  pull(word)\n```\n:::\n",
    "supporting": [
      "ca-trump-clinton_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}